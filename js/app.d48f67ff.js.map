{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assets/lib/http.ts","webpack:///./src/App.vue?5d12","webpack:///./src/components/notice/Notice.vue?f10e","webpack:///./src/views/index/Index.vue?bddd","webpack:///./src/App.vue?2d3d","webpack:///./src/components/layout/Header.vue?92a6","webpack:///./src/assets/lib/localforage.ts","webpack:///./src/views/NotFound.vue?6c30","webpack:///./src/components/notice/Notice.vue?1ff0","webpack:///./src/views/Login.vue?44c9","webpack:///./src/components/notice/init.ts","webpack:///./src/assets/utils/await.ts","webpack:///./src/views/Main.vue?ff76","webpack:///./src/constant/config.ts","webpack:///./src/constant/event.ts","webpack:///./src/constant/index.ts","webpack:///./src/components/layout/Header.vue?18ab","webpack:///./src/assets/utils/download.ts","webpack:///./src/assets/lib/localstore.ts","webpack:///./src/views/Login.vue?1b4e","webpack:///./src/views/Main.vue?1fa8","webpack:///./src/components/notice/Notice.vue?8ca9","webpack:///./src/App.vue?f84a","webpack:///./src/components/notice/Notice.vue?a400","webpack:///./src/components/notice/notice.ts","webpack:///./src/components/notice/notice.ts?8f62","webpack:///./src/components/notice/Notice.vue","webpack:///./src/App.vue?ec60","webpack:///./src/App.vue?640d","webpack:///./src/App.vue","webpack:///./src/views/Login.vue?7864","webpack:///./src/views/Login.vue?bb6b","webpack:///./src/views/Login.vue?5134","webpack:///./src/views/Login.vue","webpack:///./src/views/Main.vue?7972","webpack:///./src/components/layout/Header.vue?45e2","webpack:///./src/components/layout/Header.vue?4d24","webpack:///./src/components/layout/Header.vue?6e62","webpack:///./src/components/layout/Header.vue","webpack:///./src/views/Main.vue?5d20","webpack:///./src/views/Main.vue?6e18","webpack:///./src/views/Main.vue","webpack:///./src/views/index/Index.vue?0b2c","webpack:///./src/views/index/index.ts","webpack:///./src/views/index/index.ts?00ef","webpack:///./src/views/index/Index.vue","webpack:///./src/views/NotFound.vue?c23a","webpack:///./src/views/NotFound.vue?de2d","webpack:///./src/views/NotFound.vue?cf05","webpack:///./src/views/NotFound.vue","webpack:///./src/assets/lib/role.ts","webpack:///./src/router.ts","webpack:///./src/store.ts","webpack:///./src/assets/lib/events/index.ts","webpack:///./src/main.ts","webpack:///./src/assets/utils/util.ts","webpack:///./src/assets/lib/date.ts","webpack:///./src/views/index/Index.vue?602b","webpack:///./src/views/NotFound.vue?729f"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","HTTP","showMessage","retry","timeoutTime","maxRetryCount","url","params","headers","controller","req","this","parseArgs","doFetch","method","retryCount","confirm","catch","log","isGet","body","reqBody","start","includes","isFirst","entries","reduce","a","k","v","contentType","getHead","JSON","stringify","json2FormData","AbortController","init","credentials","signal","timer","abort","fetch","finally","parseRes","res","isSuccess","status","json","text","codeSuccess","success","pagedData","pageSize","currentPage","datas","totalCount","showClose","statusText","Headers","parmas","FormData","append","Blob","forage","getPrototypeOf","localforageGetItem","storge","getItem","assign","errorStore","NoticeInit","messages","maxHeight","size","messageStore","$event","on","notifyEvent","find","itemToString","reset","iterate","notify","setSize","isMultiple","item","tagNo","alarmTime","alarmMsg","join","setItem","deviceId","count","emit","offsetHeight","offsetWidth","none","b","awaitWrap","Async","errorCall","calleeName","descriptor","oriFunc","args","loopAwait","condition","Date","now","loop","requestAnimationFrame","HEAD","DEVICE_PIXEL_RATIO","Math","max","devicePixelRatio","APP_KEY","APP_NAME","BASE_URL","initConfig","sessionStorage","NOTIFY_KEY","ALARM_DEAL","MODIFY_TAG_ICON","RESIZE","MISS","RECOVERY","MAP_THEME_URL","MAP_DATA_URL","SX_WIDTH","LOSS_TIME","NOTICE_MAX","MISS_MSG","ERROR_IMG","ZONE_SEPARATOR","ALL_PERMISSION","admin","put","delete","post","zone","camera","protocol","base","map","alarm","table2Excel","table","html","btoa","unescape","encodeURIComponent","open","download","oA","URL","createObjectURL","click","remove","revokeObjectURL","load","store","http","localStorage","_load","forEach","errorCount","isEnd","removeItem","stores","Map","getAndCreateStore","has","obj","createInstance","storeName","Proxy","val","set","_vm","_h","$createElement","_c","_self","ref","staticRenderFns","attrs","drawer","staticStyle","list","selected","filters","filterHandler","formatter","staticClass","class","$style","bottom","doDeal","_v","page","elNotify","notifyCount","notifyPromise","$options","date","row","column","Reflect","$confirm","countObj","id","reduceError","arr","updateMore","elTable","clearSelection","el","close","index","indexOf","oldCount","$nextTick","format","$notify","warning","title","duration","customClass","onClick","more","moreCount","$data","info","Set","add","Array","from","injectStyles","context","locals","component","fn","$store","commit","addEventListener","components","form","rules","model","callback","$$v","$set","expression","nativeOn","_k","keyCode","submit","isVaild","password","username","min","trigger","required","$refs","loginForm","validate","valid","resultMap","user","initRouter","$router","$message","resetFields","nameLength","passLength","link","tabs","activeIndex","_l","_s","slot","_e","loginout","modifyActiveIndex","setNavItems","$http","location","$route","path","split","navItems","filter","resolved","rootWidth","deep","delay","ip","wsUrl","ws","WebSocket","replace","onmessage","msg","parse","baseNo","getTime","cards","to","line_v","num","collapse","activeNames","_f","timestamp","content","icon","records","createPie","chart","chart1","createBar","chart2","dispose","param","option","seriesIndex","len","legend","dataIndex","getOption","forOption","msgData","chat","trees","series","setOption","tooltip","orient","x","selectedMode","radius","label","normal","position","labelLine","show","backgroundColor","borderColor","borderWidth","borderRadius","rich","color","lineHeight","align","hr","width","height","fontSize","per","padding","createChart","main","eConsole","weatherIcons","Sunny","Cloudy","Showers","seriesLabel","textBorderColor","textBorderWidth","option2","axisPointer","grid","left","toolbox","feature","saveAsImage","xAxis","axisLabel","yAxis","inverse","margin","image","markPoint","symbolSize","symbolOffset","distance","textShadowBlur","textShadowColor","textShadowOffsetX","textShadowOffsetY","myChart2","dom","container","img","reason","_m","routes","roles","role","hasPermission","props","permission","alias","children","func","flat","getPermission","putPermission","redirect","route","deletePermission","isArray","use","router","loadRouter","addRoutes","Index","Store","state","baseUrl","zoneMode","switch","in","out","group","other","modeDescript","mutations","events","evt","handler","off","Events","assgin","construct","keys","getOwnPropertyNames","PIXI","default","render","h","$mount","$async","config","productionTip","beforeEach","next","isLogin","randomNum","isInt","Number","isNaN","random","round","randomColor","hasAlpha","fill","arr2obj","isArr","encodeUtf8","Uint16Array","idx","charCodeAt","getIp","hostname","hexadecimalRuleFactory","pattern","RegExp","getConfig","defaultValue","warn","formatTime","range","progress","time","DAY_MS","HOUR_MS","MINUTE_MS","day","floor","hour","minute","tip","unshift","toString","padStart","formatDate","fmt","test","$1","getFullYear","substr","getMonth","getDate","getHours","getMinutes","getSeconds","str"],"mappings":"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","file":"js/app.d48f67ff.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({\"admin\":\"admin\",\"alarm\":\"alarm\",\"base\":\"base\",\"chart~map~system\":\"chart~map~system\",\"chart\":\"chart\",\"map\":\"map\",\"system\":\"system\",\"people\":\"people\"}[chunkId]||chunkId) + \".\" + {\"admin\":\"ce086721\",\"alarm\":\"8258f3ca\",\"base\":\"81b70394\",\"chart~map~system\":\"adf0fcea\",\"chart\":\"e727fd33\",\"map\":\"317b7fea\",\"system\":\"7be8df48\",\"people\":\"ce6b097e\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"admin\":1,\"alarm\":1,\"base\":1,\"chart~map~system\":1,\"chart\":1,\"map\":1,\"system\":1,\"people\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({\"admin\":\"admin\",\"alarm\":\"alarm\",\"base\":\"base\",\"chart~map~system\":\"chart~map~system\",\"chart\":\"chart\",\"map\":\"map\",\"system\":\"system\",\"people\":\"people\"}[chunkId]||chunkId) + \".\" + {\"admin\":\"d8d66df1\",\"alarm\":\"d8d66df1\",\"base\":\"6ed6d20a\",\"chart~map~system\":\"d8d66df1\",\"chart\":\"e741779a\",\"map\":\"03b20afd\",\"system\":\"22c1d7ef\",\"people\":\"8a6f30e5\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","/**\r\n * 发送请求\r\n */\r\nimport { Message, MessageBox } from 'element-ui';\r\n\r\ninterface HTTPConfig {\r\n    showMessage: boolean;\r\n    retry: boolean;\r\n    timeoutTime: number;\r\n    maxRetryCount: number;\r\n}\r\ntype RequestConfig = Omit<RequestParams, 'body' | 'data' | 'params'> & { params?: string | FormData } & HTTPConfig;\r\n\r\nexport default class HTTP {\r\n\r\n    /**\r\n     * 项目请求模块\r\n     * 以下配置可在发送请求前设置, 设置后在下次设置前都会是设置的值\r\n     * 对已发送出的请求, 配置值是其发送时的值\r\n     *\r\n     * @param showMessage // 是否显示弹出后端返回的错误信息。默认: true\r\n     * @param retry // 是否超时重试。默认: true\r\n     * @param timeoutTime // 使用的超时时间, 单位毫秒。默认: 60000\r\n     * @param maxRetryCount // 超时重试的最大次数。默认: 5\r\n     */\r\n    constructor(\r\n        public showMessage: boolean = true,\r\n        public retry: boolean = true,\r\n        public timeoutTime: number = 60000,\r\n        public maxRetryCount: number = 5\r\n    ) {\r\n        //\r\n    }\r\n\r\n    public get(\r\n        url: string | RequestParams,\r\n        params: Record<string, any> = {},\r\n        headers: Record<string, any> | Headers = {},\r\n        controller?: AbortController\r\n    ): Promise<ResponseData> {\r\n        const req = this.parseArgs(url, true, params, headers, controller);\r\n        return this.doFetch(req, 'GET', 0);\r\n    }\r\n\r\n    public post(\r\n        url: string | RequestParams,\r\n        params: Record<string, any> = {},\r\n        headers: Record<string, any> | Headers = {},\r\n        controller?: AbortController\r\n    ): Promise<ResponseData> {\r\n        const req = this.parseArgs(url, false, params, headers, controller);\r\n        return this.doFetch(req, 'POST', 0);\r\n    }\r\n\r\n    /**\r\n     * 超时回调\r\n     * @param req 请求相关数据\r\n     * @param method 请求方法\r\n     * @param retryCount 已重试次数\r\n     */\r\n    public timeout(req: RequestConfig, method: 'POST' | 'GET', retryCount: number) {\r\n        if (this.retry && retryCount++ <= this.maxRetryCount) {\r\n            MessageBox.confirm('请求服务器超时, 是否重试?')\r\n                .then(this.doFetch.bind(this, req, method, retryCount))\r\n                .catch(console.log);\r\n        }\r\n\r\n        console.error(`request timeover ${method} ${req.url}`);\r\n    }\r\n\r\n    // 解析请求参数\r\n    private parseArgs(\r\n        url: string | RequestParams,\r\n        isGet: boolean,\r\n        params: Record<string, any>,\r\n        headers: Record<string, any> | Headers,\r\n        controller?: AbortController\r\n    ) {\r\n        if (typeof url !== 'string') {\r\n            params = url.body || url.data || url.params || {};\r\n            headers = url.headers || {};\r\n            controller = url.controller;\r\n            url = url.url;\r\n        }\r\n\r\n        let reqBody: string | FormData | undefined = void 0;\r\n        if (isGet) {\r\n            const start = url.includes('?') ? '&' : '?';\r\n            let isFirst = true;\r\n            url = Object.entries(params).reduce((a, [k, v]) => {\r\n                if (v != null && v !== '') {\r\n                    a = `${a}${isFirst ? start : '&'}${k}=${v}`;\r\n                    isFirst = false;\r\n                }\r\n\r\n                return a;\r\n            }, url);\r\n        } else {\r\n            const contentType = this.getHead(headers, 'Content-Type');\r\n            if (contentType && contentType.includes('application/json')) {\r\n                reqBody = JSON.stringify(params);\r\n            } else {\r\n                reqBody = this.json2FormData(params);\r\n            }\r\n        }\r\n\r\n        return {\r\n            ...this,\r\n            url, headers, controller,\r\n            params: reqBody\r\n        };\r\n    }\r\n\r\n    // 发送请求\r\n    private doFetch(req: RequestConfig, method: 'POST' | 'GET', retryCount: number) {\r\n        req.controller = req.controller || new AbortController();\r\n        const init: RequestInit = {\r\n            method,\r\n            headers: req.headers,\r\n            body: req.params,\r\n            credentials: 'include',\r\n            signal: req.controller.signal\r\n        };\r\n\r\n        const timer = setTimeout(() => {\r\n            this.timeout(req, method, retryCount);\r\n            req.controller && req.controller.abort();\r\n        }, this.timeoutTime);\r\n\r\n        return fetch(req.url, init)\r\n            .finally(() => clearTimeout(timer))\r\n            .then(this.parseRes.bind(this));\r\n    }\r\n\r\n    // 解析响应\r\n    private async parseRes(res: Response) {\r\n        if (this.isSuccess(res.status)) {\r\n            let data: ResponseData;\r\n            try {\r\n                data = await res.json();\r\n            } catch (e) {\r\n                console.log(await res.text());\r\n                return Promise.reject(e);\r\n            }\r\n\r\n            const codeSuccess = this.isSuccess(data.code);\r\n            if (codeSuccess && data.success) {\r\n                data.pagedData = data.pagedData || {\r\n                    pageSize: 0,\r\n                    currentPage: 1,\r\n                    datas: [],\r\n                    totalCount: 0\r\n                };\r\n                data.pagedData.datas = data.pagedData.datas || [];\r\n\r\n                return data;\r\n            } else {\r\n                if (!codeSuccess && this.showMessage) {\r\n                    Message.error({\r\n                        message: data.message,\r\n                        showClose: true\r\n                    });\r\n                } else {\r\n                    console.error(data.message);\r\n                }\r\n\r\n                return Promise.reject(data);\r\n            }\r\n        } else {\r\n            console.error(`${res.status}: ${res.statusText}`);\r\n            return Promise.reject(res);\r\n        }\r\n    }\r\n\r\n    private getHead(headers: any, name: string) {\r\n        if (headers instanceof Headers) {\r\n            return headers.get(name);\r\n        }\r\n\r\n        return headers[name];\r\n    }\r\n\r\n    private json2FormData(parmas: Record<string, any>) {\r\n        if (parmas instanceof FormData) {\r\n            return parmas;\r\n        }\r\n\r\n        const data = new FormData();\r\n        for (const [k, v] of Object.entries(parmas)) {\r\n            data.append(k, v instanceof Blob ? v : v + '');\r\n        }\r\n\r\n        return data;\r\n    }\r\n\r\n    private isSuccess(status: number) {\r\n        return status >= 200 && status < 300;\r\n    }\r\n}\r\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-0-0!../node_modules/css-loader/index.js??ref--7-oneOf-0-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-0-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=postcss&module=true&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-0-0!../node_modules/css-loader/index.js??ref--7-oneOf-0-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-0-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=postcss&module=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Notice.vue?vue&type=style&index=1&lang=postcss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Notice.vue?vue&type=style&index=1&lang=postcss&\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cards\":\"Index_cards_1_6RD\",\"card-item\":\"Index_card-item_2jFcQ\",\"line_v\":\"Index_line_v_KGoEM\",\"info\":\"Index_info_CI0Xh\",\"collapse\":\"Index_collapse_20YDT\",\"collapse-item\":\"Index_collapse-item_PCv9O\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"App_root_1N-C8\"};","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-0-0!../../../node_modules/css-loader/index.js??ref--7-oneOf-0-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-0-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=style&index=0&lang=postcss&module=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-0-0!../../../node_modules/css-loader/index.js??ref--7-oneOf-0-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-0-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=style&index=0&lang=postcss&module=true&\"","import * as localforage from 'localforage';\r\n\r\nconst forage = Object.create(Object.getPrototypeOf(localforage));\r\nObject.assign(forage, localforage, {\r\n    getItem<T>(key: string): Promise<T> {\r\n        return localforageGetItem<T>(key, localforage);\r\n    }\r\n});\r\nexport default <LocalForage>forage;\r\n\r\n// ==================\r\nexport async function localforageGetItem<T>(key: string, storge: LocalForage): Promise<T> {\r\n    const data = await storge.getItem<T>(key);\r\n    if (data == null) {\r\n        return Promise.reject();\r\n    }\r\n\r\n    return data;\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"NotFound_container_19h3g\",\"p\":\"NotFound_p_JHb7m\",\"img\":\"NotFound_img_3Pl8R\",\"reason\":\"NotFound_reason_3aNDz\"};","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-0-0!../../../node_modules/css-loader/index.js??ref--7-oneOf-0-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-0-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Notice.vue?vue&type=style&index=0&lang=postcss&module=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-0-0!../../../node_modules/css-loader/index.js??ref--7-oneOf-0-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-0-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Notice.vue?vue&type=style&index=0&lang=postcss&module=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-0-0!../../node_modules/css-loader/index.js??ref--7-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=postcss&module=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-0-0!../../node_modules/css-loader/index.js??ref--7-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=postcss&module=true&\"","/**\r\n * notice组件初始化\r\n */\r\n\r\nimport Vue from 'vue';\r\nimport Component from 'vue-class-component';\r\nimport { NOTIFY_KEY, ALARM_DEAL, RECOVERY, MODIFY_TAG_ICON, ERROR_IMG, SX_WIDTH } from '@/constant';\r\nimport { Async, loopAwait } from '@/assets/utils/util';\r\nimport { getAndCreateStore } from '@/assets/lib/localstore';\r\n\r\nexport const errorStore = getAndCreateStore('ERROR_STORE');\r\n\r\n@Component\r\nexport default class NoticeInit extends Vue {\r\n    public messages: IAlarm[] = [];\r\n    public maxHeight: number = 666;\r\n    public size: string = '50%';\r\n\r\n    protected messageStore = getAndCreateStore('MESSAGE');\r\n\r\n    public created() {\r\n        this.$event.on(NOTIFY_KEY, this.notifyEvent.bind(this))\r\n            .on(ALARM_DEAL, (v: IAlarm) => {\r\n                const message = this.messages.find(m => this.itemToString(m) === this.itemToString(v));\r\n                message && this.reset(message);\r\n            })\r\n            .on(RECOVERY, () => this.messageStore.iterate<IAlarm, void>(this.notify.bind(this)));\r\n    }\r\n\r\n    public mounted() {\r\n        this.setSize();\r\n    }\r\n\r\n    // 隐藏报警\r\n    protected reset(v: IAlarm, isMultiple?: boolean) {\r\n        //\r\n    }\r\n    // 显示报警\r\n    protected notify(v: IAlarm) {\r\n        //\r\n    }\r\n\r\n    protected itemToString(item: IAlarm) {\r\n        return [item.tagNo, item.type, item.alarmTime, item.alarmMsg].join('$');\r\n    }\r\n\r\n    // 触发报警提示的全局事件函数\r\n    private notifyEvent(v: IAlarm) {\r\n        this.messageStore.setItem(this.itemToString(v), v);\r\n\r\n        const deviceId = v.tagNo;\r\n\r\n        errorStore\r\n            .getItem<number>(deviceId)\r\n            .then(count => errorStore.setItem(deviceId, ++count))\r\n            .catch(() => {\r\n                errorStore.setItem(deviceId, 1);\r\n                // 更换标签图片为异常图片;\r\n                this.$event.emit(MODIFY_TAG_ICON, deviceId, ERROR_IMG);\r\n            });\r\n\r\n        this.notify(v);\r\n    }\r\n\r\n    @Async()\r\n    private async setSize() {\r\n        await loopAwait(() => !!(document.body.offsetHeight && document.body.offsetWidth));\r\n\r\n        this.maxHeight = document.body.offsetHeight - 150;\r\n        if (document.body.offsetWidth <= SX_WIDTH) {\r\n            this.size = '100%';\r\n        }\r\n    }\r\n}\r\n\r\n\r\ninterface OldAlarm {\r\n    tagNo: string;\r\n    alarmTime: number;\r\n    alarmMsg: string;\r\n}\r\n","/**\r\n * 空函数\r\n */\r\nexport function none(a?: any, b?: any, c?: any, d?: any) {\r\n    //\r\n}\r\n\r\n/**\r\n * 处理async/awiat的错误\r\n * 通过函数返回相同结构数据\r\n */\r\nexport async function awaitWrap<T, U = any>(promise: Promise<T>) {\r\n    try {\r\n        const res = await promise;\r\n        return ({ err: null, value: res });\r\n    } catch (e) {\r\n        return ({ err: <U>e, value: null });\r\n    }\r\n}\r\n\r\n/**\r\n * 处理async/awiat的错误\r\n * 通过装饰器捕获错误, 适用于类方法可用一个try/catch整个包起来的情况\r\n * @param errorCall 错误处理函数\r\n */\r\nexport function Async<U = any>(errorCall: (e: U) => any = none) {\r\n    return (target: any, calleeName: string, descriptor: PropertyDescriptor) => {\r\n        const oriFunc = descriptor.value;\r\n        descriptor.value = async function(this, ...args: any[]) {\r\n            try {\r\n                return await oriFunc.apply(this, args);\r\n            } catch (err) {\r\n                return errorCall(err);\r\n            }\r\n        };\r\n    };\r\n}\r\n\r\n/**\r\n * 轮询等待条件达成\r\n * @param condition 等待的条件\r\n * @param timeout 超时时间\r\n */\r\nexport function loopAwait(\r\n    condition: () => boolean,\r\n    timeout: number = 1000\r\n): Promise<void> {\r\n    const start: number = Date.now();\r\n\r\n    const loop = (resolve: () => void, reject: (reason?: any) => void) => {\r\n        if (condition()) {\r\n            resolve();\r\n        } else if (Date.now() - start > timeout) {\r\n            reject('timeout');\r\n        } else {\r\n            requestAnimationFrame(() => loop(resolve, reject));\r\n        }\r\n    };\r\n\r\n    return new Promise(loop);\r\n}\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Main_main_1Kihl\",\"mark\":\"Main_mark_3Y1Aq\"};","export const HEAD = [0x23]; // 协议包头\r\nexport const END = [0x0D, 0x0A]; // 协议包尾\r\n\r\nexport const DEVICE_PIXEL_RATIO = Math.max(2, window.devicePixelRatio);\r\n\r\n// 开发者申请应用下web服务的key\r\nexport let APP_KEY: string = '83a75157d56ffe85317ed7ba1e8120ff';\r\n// 开发者申请应用名称\r\nexport let APP_NAME: string = 'hunjingguanchang';\r\n// 服务器地址\r\nexport let BASE_URL = process.env.BASE_URL;\r\n\r\n/**\r\n * 初始化配置\r\n */\r\nexport async function initConfig() {\r\n    let res: any = await fetch('/config.json');\r\n    res = await res.json();\r\n\r\n    APP_KEY = res.APP_KEY;\r\n    APP_NAME = res.APP_NAME;\r\n    if (process.env.NODE_ENV !== 'production') {\r\n        BASE_URL = res.PROXY_TARGET;\r\n    }\r\n\r\n    sessionStorage.setItem('config', JSON.stringify(res));\r\n}\r\n","/**\r\n * 全局事件名\r\n */\r\n\r\nexport const NOTIFY_KEY = Symbol('触发警报提示的全局事件名');\r\nexport const ALARM_DEAL = Symbol('警报已处理事件全局名');\r\nexport const MODIFY_TAG_ICON = Symbol('修改标签图标的全局事件名');\r\nexport const RESIZE = Symbol('浏览器触发了resize事件');\r\nexport const MISS = Symbol('信号丢失事件');\r\nexport const RECOVERY = Symbol('恢复报警状态');\r\n","/**\r\n * 配置及常量\r\n */\r\n// 主题数据位置\r\nexport const MAP_THEME_URL: string = '/data/theme';\r\n// 地图数据位置\r\nexport const MAP_DATA_URL: string = '/image';\r\n\r\nexport const DEFAULT_WIDTH: number = 1600; // 屏幕默认宽度\r\nexport const SX_WIDTH: number = 768; // 小屏宽度\r\nexport const LOSS_TIME: number = 10000; // 用于判断信号是否丢失\r\n\r\nexport const NOTICE_MAX: number = 3; // 同时出现的最大报警数\r\nexport const MISS_MSG: string = '信号丢失'; // 标签信号丢失时的报警信息\r\nexport const ERROR_IMG: string = '/images/error.png'; // 标签异常时的图片\r\n\r\nexport const ZONE_SEPARATOR = '@#$$^*&(____^#@&(*||)(&..,';\r\n\r\n// 全部权限\r\nexport const ALL_PERMISSION = {\r\n    admin: { put: true, delete: true, post: true, get: true }, // 管理员\r\n    zone: { put: true, delete: true, post: true, get: true }, // 区域(电子围栏)\r\n    camera: { put: true, delete: true, post: true, get: true }, // 摄像机\r\n    protocol: { put: true, delete: true, post: true, get: true }, // 协议\r\n    base: { put: true, delete: true, post: true, get: true }, // 设备(基站)\r\n    tag: { put: true, delete: true, post: true, get: true }, // 人员(标签)\r\n    map: { put: true, delete: true, post: true, get: true }, // 地图(监控)\r\n    alarm: { put: true, delete: true, post: true, get: true } // 报警信息\r\n};\r\n\r\nexport * from './config';\r\nexport * from './event';\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"row\":\"Header_row_k97hX\",\"link\":\"Header_link_WkgqQ\",\"hidden-xs-only\":\"Header_hidden-xs-only_1gGh4\",\"hidden-sm-and-up\":\"Header_hidden-sm-and-up_33tZP\"};","import { getAndCreateStore } from '../lib/localstore';\r\nimport HTTP from '../lib/http';\r\n\r\n/**\r\n * 导出tabel为excel\r\n */\r\nexport function table2Excel(table: string) {\r\n    const html = `<html><head><meta charset=\"UTF-8\"></head><body><table border=\"1\">${table}</table></body></html>`;\r\n    const s = window.btoa(unescape(encodeURIComponent(html)));\r\n    window.open('data:application/vnd.ms-excel;base64,' + s, 'block');\r\n}\r\n\r\n/**\r\n * 下载图片\r\n */\r\nexport function download(url: Blob | string, name: string = 'heatmap.png') {\r\n    const oA = document.createElement('a');\r\n    oA.download = name; // 设置下载的文件名，默认是'下载'\r\n    oA.href = typeof url === 'string' ? url : URL.createObjectURL(url);\r\n    document.body.appendChild(oA);\r\n    oA.click();\r\n    oA.remove(); // 下载之后把创建的元素删除\r\n\r\n    URL.revokeObjectURL(oA.href);\r\n}\r\n\r\n/**\r\n * 从服务器慢加载数据\r\n */\r\nexport function load(url: string, key: string, name: string) {\r\n    const store = getAndCreateStore(name);\r\n    const http = new HTTP(false, false);\r\n\r\n    if (!localStorage.getItem(name)) {\r\n        let isEnd = false; // 是否数据请求完毕\r\n        let errorCount: number = 0; // 连续请求失败的次数, 用于中断慢加载\r\n        async function _load(currentPage: number = 1) {\r\n            try {\r\n                const res = await http.get(url, { pageSize: 1000, currentPage });\r\n\r\n                const data = res.pagedData;\r\n                data.datas.forEach((v: any) => store.setItem(v[key], v));\r\n\r\n                errorCount = 0;\r\n                isEnd = currentPage++ * 1000 >= data.totalCount;\r\n            } catch (e) {\r\n                errorCount++;\r\n            }\r\n\r\n            if (errorCount >= 10) {\r\n                return localStorage.removeItem(name);\r\n            }\r\n\r\n            isEnd ? localStorage.setItem(name, '1') : _load(currentPage);\r\n        }\r\n\r\n        _load();\r\n    }\r\n\r\n    return store;\r\n}\r\n","/**\r\n * 本地缓存\"数据库\"\r\n */\r\n\r\nimport localforage, { localforageGetItem } from './localforage';\r\n\r\nconst stores: Map<string, LocalForage> = new Map();\r\n\r\n/**\r\n * 获取数据\r\n */\r\nexport function getItem<T>(store: string, key: string) {\r\n    const db = stores.get(store);\r\n    if (db) {\r\n        return db.getItem<T>(key);\r\n    }\r\n\r\n    return Promise.reject(`标识为${store}的缓存数据不存在`);\r\n}\r\n\r\n/**\r\n * 设置数据\r\n */\r\nexport function setItem<T>(store: string, key: string, value: T) {\r\n    const db = stores.get(store);\r\n    if (db) {\r\n        return db.setItem<T>(key, value);\r\n    }\r\n\r\n    return Promise.reject(`标识为${store}的缓存数据不存在`);\r\n}\r\n\r\n/**\r\n * 创建并获取数据库\r\n */\r\nexport function getAndCreateStore(name: string): LocalForage {\r\n    if (stores.has(name)) {\r\n        return stores.get(name)!;\r\n    }\r\n\r\n    const obj = localforage.createInstance({ storeName: name });\r\n    const store = new Proxy(obj, {\r\n        get(t: LocalForage, k: keyof LocalForage) {\r\n            if (k === 'getItem') {\r\n                return <T>(key: string): Promise<T> => localforageGetItem<T>(key, t);\r\n            }\r\n\r\n            const val = t[k];\r\n            return typeof val === 'function' ? val.bind(t) : val;\r\n        }\r\n    });\r\n    stores.set(name, store);\r\n\r\n    return store;\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Login_title_3hO3F\",\"box-card\":\"Login_box-card_YcbKN\"};","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-0-0!../../node_modules/css-loader/index.js??ref--7-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=style&index=0&lang=postcss&module=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-0-0!../../node_modules/css-loader/index.js??ref--7-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=style&index=0&lang=postcss&module=true&\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bottom\":\"Notice_bottom_1fdk9\"};","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"root\"},[_c('router-view'),_c('app-notice')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-drawer',{attrs:{\"title\":\"报警列表\",\"visible\":_vm.drawer,\"size\":_vm.size},on:{\"update:visible\":function($event){_vm.drawer=$event}}},[_c('el-table',{ref:\"table\",staticStyle:{\"padding\":\"0 10px\"},attrs:{\"data\":_vm.list,\"stripe\":\"\",\"size\":\"mini\",\"max-height\":_vm.maxHeight},on:{\"selection-change\":function($event){_vm.selected = $event}}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_c('el-table-column',{attrs:{\"prop\":\"type\",\"label\":\"报警类型\",\"min-width\":\"80\",\"filters\":_vm.filters.type,\"filter-method\":_vm.filterHandler}}),_c('el-table-column',{attrs:{\"prop\":\"tagNo\",\"label\":\"标签号\",\"min-width\":\"100\",\"filters\":_vm.filters.tagNo,\"filter-method\":_vm.filterHandler}}),_c('el-table-column',{attrs:{\"prop\":\"alarmTime\",\"label\":\"报警时间\",\"min-width\":\"160\",\"filters\":_vm.filters.alarmTime,\"filter-method\":_vm.filterHandler,\"formatter\":_vm.formatter}}),_c('el-table-column',{attrs:{\"prop\":\"alarmMsg\",\"label\":\"报警信息\",\"min-width\":\"255\"}})],1),_c('div',{staticClass:\"flex-center\",class:_vm.$style.bottom},[_c('el-button',{attrs:{\"disabled\":!_vm.selected.length,\"size\":\"mini\"},on:{\"click\":_vm.doDeal}},[_vm._v(\"\\n            清除异常\\n        \")]),_c('el-pagination',{attrs:{\"small\":\"\",\"hide-on-single-page\":\"\",\"layout\":\"prev, pager, next\",\"total\":_vm.messages.length,\"page-size\":50},on:{\"current-change\":function($event){_vm.page = $event}}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Component from 'vue-class-component';\r\nimport { NOTICE_MAX, MODIFY_TAG_ICON, } from '../../constant';\r\nimport { ElNotificationComponent } from 'element-ui/types/notification';\r\nimport { ElTableColumn } from 'element-ui/types/table-column';\r\nimport { Ref } from 'vue-property-decorator';\r\nimport { ElTable } from 'element-ui/types/table';\r\nimport { Async } from '@/assets/utils/await';\r\nimport NoticeInit, { errorStore } from './init';\r\n\r\n@Component\r\nexport default class Notice extends NoticeInit {\r\n    public drawer: boolean = false;\r\n    public page: number = 1;\r\n    public selected: IAlarm[] = [];\r\n\r\n    private elNotify = new Map<string | IAlarm, ElNotificationComponent>();\r\n    private notifyCount: number = 0;\r\n    private notifyPromise = Promise.resolve();\r\n\r\n    @Ref('table') private readonly elTable!: ElTable;\r\n\r\n    public get filters() {\r\n        const type = new Set();\r\n        const tagNo = new Set();\r\n        const alarmTime = new Set();\r\n\r\n        this.messages.forEach(v => {\r\n            type.add(v.type);\r\n            tagNo.add(v.tagNo);\r\n            alarmTime.add(v.alarmTime);\r\n        });\r\n        const format = (<any>this.$options.filters).date;\r\n\r\n        return {\r\n            type: Array.from(type).map(v => ({ text: v, value: v })),\r\n            tagNo: Array.from(tagNo).map(v => ({ text: v, value: v })),\r\n            alarmTime: Array.from(alarmTime).map(v => ({ text: format(v), value: v }))\r\n        };\r\n    }\r\n    public get list() {\r\n        return this.messages.slice((this.page - 1) * 50, this.page * 50);\r\n    }\r\n\r\n    public formatter(r: any, c: any, v: number) {\r\n        return (<any>this.$options.filters).date(v);\r\n    }\r\n    public filterHandler(value: string | number, row: IAlarm, column: ElTableColumn) {\r\n        return Reflect.get(row, Reflect.get(column, 'property')) === value;\r\n    }\r\n\r\n    // 处理异常\r\n    @Async()\r\n    public async doDeal() {\r\n        await this.$confirm('选中异常已解决?');\r\n\r\n        const countObj = this.selected.reduce(\r\n            (a, v) => {\r\n                this.reset(v, true);\r\n                const count = a[v.tagNo] || 0;\r\n                a[v.tagNo] = count + 1;\r\n\r\n                return a;\r\n            },\r\n            {} as Record<string, number>\r\n        );\r\n        Object.entries(countObj).forEach(([id, c]) => this.reduceError(id, c));\r\n\r\n        // 需要从更多里添加到外面的报警\r\n        const arr = this.messages.splice(this.notifyCount, NOTICE_MAX - this.notifyCount);\r\n        arr.forEach(this.notify.bind(this));\r\n        // message里已经没有信息了\r\n        arr.length || this.updateMore(0);\r\n\r\n        this.elTable.clearSelection();\r\n        this.selected.length = 0;\r\n    }\r\n\r\n    // 隐藏报警\r\n    protected reset(v: IAlarm, isMultiple?: boolean) {\r\n        const el = this.elNotify.get(v);\r\n        if (el) {\r\n            el.close();\r\n            this.notifyCount--;\r\n            this.elNotify.delete(v);\r\n        }\r\n\r\n        const index = this.messages.indexOf(v);\r\n        if (index > -1) {\r\n            this.messages.splice(index, 1);\r\n            isMultiple || this.notify(this.messages.splice(this.notifyCount, 1)[0]);\r\n            this.messageStore.removeItem(this.itemToString(v));\r\n        }\r\n\r\n        isMultiple || this.reduceError(v.tagNo, 1);\r\n    }\r\n\r\n    // 显示报警\r\n    protected notify(v: IAlarm) {\r\n        const oldCount: number = this.notifyCount;\r\n        if (v) {\r\n            this.messages.push(v);\r\n            if (this.notifyCount < NOTICE_MAX) {\r\n                this.notifyCount++;\r\n\r\n                this.notifyPromise = this.notifyPromise\r\n                    .then(this.$nextTick)\r\n                    .then(() => {\r\n                        const format = (<any>this.$options.filters).date;\r\n                        const el = this.$notify.warning({\r\n                            title: `标签${v.tagNo}异常`,\r\n                            message: `${format(v.alarmTime)}: ${v.alarmTime}`,\r\n                            duration: 0,\r\n                            showClose: false,\r\n                            customClass: 'notice-component',\r\n                            onClick: () => {\r\n                                this.$confirm(`异常${v.alarmMsg}已解决?`)\r\n                                    .then(() => this.reset(v))\r\n                                    .catch(console.log);\r\n                            }\r\n                        });\r\n\r\n                        this.elNotify.set(v, el);\r\n                    });\r\n            }\r\n        }\r\n\r\n        this.notifyPromise = this.notifyPromise\r\n            .then(this.$nextTick)\r\n            .then(() => this.updateMore(oldCount));\r\n    }\r\n\r\n    // 更新 “更多” 的显示\r\n    private updateMore(oldCount: number) {\r\n        let more = this.elNotify.get('more');\r\n\r\n        const moreCount = this.messages.length - this.notifyCount;\r\n        if (moreCount > 0) {\r\n            if (!more || oldCount !== this.notifyCount) {\r\n                more && more.close();\r\n\r\n                more = this.$notify.info({\r\n                    title: '更多',\r\n                    message: `+${moreCount}`,\r\n                    duration: 0,\r\n                    showClose: false,\r\n                    customClass: 'notice-component',\r\n                    onClick: () => (this.drawer = true)\r\n                });\r\n                this.elNotify.set('more', more);\r\n            } else {\r\n                more.$data.message = `+${moreCount}`;\r\n            }\r\n        } else {\r\n            more && more.close();\r\n        }\r\n    }\r\n\r\n    // 清除报警记录\r\n    private reduceError(deviceId: string, reduce: number) {\r\n        errorStore\r\n            .getItem<number>(deviceId)\r\n            .then(count => {\r\n                count -= reduce;\r\n\r\n                if (count <= 0) {\r\n                    this.$event.emit(MODIFY_TAG_ICON, deviceId);\r\n                    errorStore.removeItem(deviceId);\r\n                } else {\r\n                    errorStore.setItem(deviceId, count);\r\n                }\r\n            })\r\n            .catch(console.log);\r\n    }\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!./notice.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!./notice.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Notice.vue?vue&type=template&id=32a82188&\"\nimport script from \"./notice.ts?vue&type=script&lang=ts&\"\nexport * from \"./notice.ts?vue&type=script&lang=ts&\"\nimport style0 from \"./Notice.vue?vue&type=style&index=0&lang=postcss&module=true&\"\nimport style1 from \"./Notice.vue?vue&type=style&index=1&lang=postcss&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\r\nimport Vue from 'vue';\r\nimport Component from 'vue-class-component';\r\nimport { RESIZE } from './constant';\r\nimport Notice from '@/components/notice/Notice.vue';\r\n\r\n@Component({\r\n    components: {\r\n        'app-notice': Notice\r\n    }\r\n})\r\nexport default class App extends Vue {\r\n    public created() {\r\n        let timer: number;\r\n        const fn = () => {\r\n            if (timer) {\r\n                clearTimeout(timer);\r\n            }\r\n\r\n            timer = setTimeout(() => {\r\n                this.$event.emit(RESIZE);\r\n                this.$store.commit('rootWidth', document.body.offsetWidth);\r\n            }, 200);\r\n        };\r\n\r\n        window.addEventListener('resize', fn, false);\r\n        fn();\r\n    }\r\n}\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=6931463b&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=postcss&module=true&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex-center\",staticStyle:{\"background\":\"#007DDB\",\"height\":\"100vh\"}},[_c('el-card',{staticClass:\"flex-center\",class:_vm.$style['box-card']},[_c('div',{class:_vm.$style.title},[_c('h1',[_vm._v(\"莱恩微定位\")]),_c('h3',[_vm._v(\"后台管理登录\")])]),_c('el-form',{ref:\"loginForm\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"status-icon\":true,\"label-width\":\"auto\"}},[_c('el-form-item',{attrs:{\"label\":\"用户账号\",\"prop\":\"username\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入账号\",\"prefix-icon\":\"el-icon-user-solid\"},model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"用户密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入密码\",\"prefix-icon\":\"el-icon-lock\",\"type\":\"password\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submit($event)}},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":!_vm.isVaild},on:{\"click\":_vm.submit}},[_vm._v(\"\\n                    登录\\n                \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from 'vue';\r\nimport Component from 'vue-class-component';\r\nimport { Message } from 'element-ui';\r\nimport Router from 'vue-router';\r\nimport { State } from 'vuex-class/lib/bindings';\r\nimport { initRouter } from '@/router';\r\nimport { ElForm } from 'element-ui/types/form';\r\nimport { load } from '@/assets/utils/download';\r\n\r\ninterface LoginInfo {\r\n    password: string;\r\n    username: string;\r\n}\r\n\r\n@Component\r\nexport default class Login extends Vue {\r\n    public form: LoginInfo = { password: '', username: '' };\r\n    public rules = {\r\n        username: [\r\n            { min: 5, message: '用户名至少得5个字符啊', trigger: 'change' },\r\n            { required: true, message: '请输入账号', trigger: 'blur' }\r\n        ],\r\n        password: [\r\n            { min: 6, max: 12, message: '密码必须6到12位', trigger: 'change' },\r\n            { required: true, message: '请输入密码', trigger: 'blur' }\r\n        ]\r\n    };\r\n\r\n    public submit() {\r\n        const form = <ElForm>this.$refs.loginForm;\r\n        form.validate((valid: boolean) => {\r\n            if (valid) {\r\n                fetch('/api/admin/login', {\r\n                    body: JSON.stringify(this.form),\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-Type': 'application/json'\r\n                    }\r\n                })\r\n                    .then(res => res.json())\r\n                    .then((res: ResponseData) => {\r\n                        if (res.code === 200) {\r\n                            sessionStorage.setItem('login', '1');\r\n                            return res.resultMap.admin;\r\n                        } else {\r\n                            return Promise.reject({\r\n                                message: '账号或密码错误, 登陆失败!'\r\n                            });\r\n                        }\r\n                    })\r\n                    .then((user: string) => {\r\n                        user && sessionStorage.setItem('user', user);\r\n                        initRouter();\r\n                        load('/api/tag/getall', 'tagNo', 'tag');\r\n\r\n                        this.$router.push('/');\r\n                    })\r\n                    .catch((e: any) => this.$message.error(e.message))\r\n                    .finally(() => form && form.resetFields());\r\n            }\r\n        });\r\n    }\r\n\r\n    public get isVaild() {\r\n        const nameLength = this.form.username.length;\r\n        const passLength = this.form.password.length;\r\n\r\n        return nameLength >= 5 && passLength >= 6 && passLength <= 12;\r\n    }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=62db7876&\"\nimport script from \"./Login.vue?vue&type=script&lang=ts&\"\nexport * from \"./Login.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&lang=postcss&module=true&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',[_c('el-header',{staticStyle:{\"padding\":\"0\"}},[_c('app-nav')],1),_c('el-main',{staticStyle:{\"padding\":\"0\"}},[_c('router-view')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',{class:_vm.$style.row,attrs:{\"type\":\"flex\",\"justify\":\"space-around\",\"align\":\"middle\"}},[_c('el-col',{attrs:{\"sm\":2,\"xs\":3,\"offset\":1}},[_c('router-link',{class:_vm.$style.link,attrs:{\"to\":\"/index\"}},[_vm._v(\"LOGO\")])],1),_c('el-col',{class:_vm.$style['hidden-xs-only'],attrs:{\"sm\":19,\"xs\":0}},[(!!_vm.tabs.length)?_c('el-menu',{attrs:{\"mode\":\"horizontal\",\"background-color\":\"#393d49\",\"text-color\":\"#fff\",\"active-text-color\":\"#ffd04b\",\"default-active\":_vm.activeIndex,\"router\":true}},[_vm._l((_vm.tabs),function(v){return _c('el-menu-item',{key:v[1],attrs:{\"index\":v[1]}},[_vm._v(\"\\n                \"+_vm._s(v[0])+\"\\n            \")])}),(!!_vm.more.length)?_c('el-submenu',{attrs:{\"index\":\"-2\"}},[_c('template',{slot:\"title\"},[_vm._v(\"\\n                    更多\\n                \")]),_vm._l((_vm.more),function(v){return _c('el-menu-item',{key:v[1],attrs:{\"index\":v[1]}},[_vm._v(\"\\n                    \"+_vm._s(v[0])+\"\\n                \")])})],2):_vm._e()],2):_vm._e()],1),_c('el-col',{class:_vm.$style['hidden-xs-only'],attrs:{\"offset\":1,\"span\":2}},[_c('span',{class:_vm.$style.link,on:{\"click\":_vm.loginout}},[_vm._v(\"退出\")])]),_c('el-col',{class:_vm.$style['hidden-sm-and-up'],staticStyle:{\"flex-grow\":\"1\"},attrs:{\"span\":1}}),_c('el-col',{class:_vm.$style['hidden-sm-and-up'],staticStyle:{\"width\":\"auto\"}},[_c('el-menu',{attrs:{\"background-color\":\"#393d49\",\"text-color\":\"#fff\",\"active-text-color\":\"#ffd04b\",\"default-active\":_vm.activeIndex,\"router\":true,\"collapse\":true}},[_c('el-submenu',{attrs:{\"index\":\"-1\"}},[_c('template',{slot:\"title\"},[_c('i',{staticClass:\"el-icon-menu\"})]),_vm._l((_vm.tabs),function(v){return _c('el-menu-item',{key:v[1],attrs:{\"index\":v[1]}},[_vm._v(\"\\n                    \"+_vm._s(v[0])+\"\\n                \")])}),_c('el-menu-item',{on:{\"click\":_vm.loginout}},[_vm._v(\"退出\")])],2)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from 'vue';\r\nimport Component from 'vue-class-component';\r\nimport { Prop, Watch } from 'vue-property-decorator';\r\nimport Router from 'vue-router';\r\nimport { SX_WIDTH } from '../../constant';\r\n\r\n@Component\r\nexport default class Header extends Vue {\r\n    public activeIndex: string = '/index';\r\n\r\n    public tabs: string[][] = [];\r\n    public more: string[][] = [];\r\n\r\n    public created() {\r\n        this.modifyActiveIndex();\r\n        this.setNavItems();\r\n        window.addEventListener('resize', this.setNavItems.bind(this));\r\n    }\r\n\r\n    public loginout() {\r\n        this.$http\r\n            .post('/api/admin/logout')\r\n            .then(() => {\r\n                sessionStorage.removeItem('login');\r\n                location.href = '/login';\r\n            })\r\n            .catch(console.log);\r\n    }\r\n\r\n    @Watch('$route', { deep: true })\r\n    public modifyActiveIndex() {\r\n        this.activeIndex = '/' + (this.$route.path.split('/')[1] || 'index');\r\n    }\r\n\r\n    private setNavItems() {\r\n        const navItems = [\r\n            ['首页', '/index'],\r\n            ['管理员设置', '/admin'],\r\n            ['系统设置', '/system'],\r\n            ['设备管理', '/base'],\r\n            ['标签管理', '/people'],\r\n            ['实时监控', '/monitor'],\r\n            ['报警信息', '/alarm'],\r\n            ['数据图表', '/chart']\r\n        ].filter(v => this.$router.resolve(v[1]).resolved.name !== '404');\r\n\r\n        const rootWidth = document.body.offsetWidth;\r\n        if (rootWidth <= 996 && rootWidth > SX_WIDTH) {\r\n            this.more = navItems.slice(5);\r\n            this.tabs = navItems.slice(0, 5);\r\n        } else {\r\n            this.more.length = 0;\r\n            this.tabs = navItems;\r\n        }\r\n    }\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Header.vue?vue&type=template&id=6ed25609&\"\nimport script from \"./Header.vue?vue&type=script&lang=ts&\"\nexport * from \"./Header.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Header.vue?vue&type=style&index=0&lang=postcss&module=true&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from 'vue';\r\nimport Component from 'vue-class-component';\r\nimport Header from '../components/layout/Header.vue';\r\nimport { Prop } from 'vue-property-decorator';\r\nimport { NOTIFY_KEY, RECOVERY } from '@/constant';\r\nimport { getIp, getConfig } from '@/assets/utils/util';\r\n\r\n@Component({\r\n    components: {\r\n        'app-nav': Header\r\n    }\r\n})\r\nexport default class Main extends Vue {\r\n    private readonly delay = 500 / getConfig<number>('SECOND_COUNT', 1);\r\n\r\n    public created() {\r\n        this.link();\r\n        this.$event.emit(RECOVERY);\r\n    }\r\n\r\n    private link() {\r\n        const ip = getIp();\r\n        if (!ip) {\r\n            return;\r\n        }\r\n        const wsUrl = getConfig<string>(\r\n            'websoket.sundries',\r\n            'ws://#{ip}/alarm'\r\n        );\r\n        const ws = new WebSocket(wsUrl.replace('#{ip}', ip));\r\n        ws.onmessage = (msg: MessageEvent) => {\r\n            let data: Omit<IAlarm, 'id'>;\r\n            try {\r\n                data = JSON.parse(msg.data);\r\n            } catch (e) {\r\n                const arr = msg.data.split('$');\r\n                data = {\r\n                    baseNo: arr[0],\r\n                    tagNo: arr[1],\r\n                    type: +arr[2],\r\n                    alarmTime: +new Date(arr[3]).getTime(),\r\n                    alarmMsg: arr[4]\r\n                };\r\n            }\r\n\r\n            if (Date.now() - data.alarmTime <= 1000) {\r\n                setTimeout(\r\n                    () => this.$event.emit(NOTIFY_KEY, data),\r\n                    this.delay\r\n                );\r\n            }\r\n        };\r\n    }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Main.vue?vue&type=template&id=21f63028&\"\nimport script from \"./Main.vue?vue&type=script&lang=ts&\"\nexport * from \"./Main.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Main.vue?vue&type=style&index=0&lang=postcss&module=true&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"overflow-y\":\"auto\",\"height\":\"calc(100vh - 60px)\"}},[_c('div',{staticStyle:{\"padding\":\"30px\"}},[_c('div',{class:_vm.$style.cards},_vm._l((_vm.cards),function(v,i){return _c('router-link',{key:i,class:_vm.$style['card-item'],attrs:{\"to\":v.to}},[_c('img',{attrs:{\"src\":(\"/images/\" + (v.icon) + \".png\")}}),_c('div',{class:_vm.$style.line_v}),_c('div',{class:_vm.$style.info},[_c('div',[_vm._v(_vm._s(v.title))]),_c('div',[_vm._v(_vm._s(v.num))])])])}),1),_c('el-collapse',{class:_vm.$style.collapse,model:{value:(_vm.activeNames),callback:function ($$v) {_vm.activeNames=$$v},expression:\"activeNames\"}},[_c('el-collapse-item',{attrs:{\"title\":\"监控信息：图表\",\"name\":\"1\"}},[_c('el-row',{class:_vm.$style['collapse-item']},[_c('el-col',{attrs:{\"span\":12}},[_c('div',{ref:\"main\",staticStyle:{\"height\":\"400px\",\"border-right\":\"1px solid #ccc\"}})]),_c('el-col',{attrs:{\"span\":12}},[_c('div',{ref:\"myChart2\",staticStyle:{\"height\":\"400px\",\"padding-left\":\"10%\"}})])],1)],1)],1),_c('el-collapse',{class:_vm.$style.collapse,model:{value:(_vm.activeNames),callback:function ($$v) {_vm.activeNames=$$v},expression:\"activeNames\"}},[_c('el-collapse-item',{attrs:{\"title\":\"区域信息：记录\",\"name\":\"2\"}},[_c('el-timeline',{class:_vm.$style['collapse-item']},_vm._l((_vm.records),function(v,i){return _c('el-timeline-item',{key:i,attrs:{\"type\":v.type,\"timestamp\":_vm._f(\"date\")(v.timestamp)}},[_vm._v(\"\\n                        \"+_vm._s(v.content)+\"\\n                    \")])}),1)],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\r\n * 主页\r\n */\r\n\r\nimport Vue from 'vue';\r\nimport Component from 'vue-class-component';\r\nimport echarts from 'echarts';\r\nimport { loopAwait } from '@/assets/utils/util';\r\n\r\ninterface CardInfo {\r\n    icon: string;\r\n    title: string;\r\n    num: number;\r\n    to: string;\r\n}\r\n\r\ninterface RecordItem {\r\n    content: string;\r\n    timestamp: number;\r\n    type: string;\r\n}\r\n\r\n@Component\r\nexport default class Main extends Vue {\r\n    public activeNames: string[] = ['1', '2'];\r\n    public cards: CardInfo[] = [\r\n        { icon: 'qy', title: '监控区域', num: 3, to: '/system/fence' },\r\n        { icon: 'adminbg', title: '管理人员', num: 3, to: '/admin/list' },\r\n        { icon: 'ter', title: '监控人员', num: 3, to: '/people/list/1' },\r\n        { icon: 'bj', title: '报警次数', num: 3, to: '/alarm' }\r\n    ];\r\n    public records: RecordItem[] = []; // 报警记录\r\n\r\n    private chart1?: echarts.ECharts;\r\n    private chart2?: echarts.ECharts;\r\n\r\n    public created() {\r\n        this.$http.get('/api/alarm/getall?pageSize=20&currentPage=1')\r\n            .then(res => {\r\n                this.records = res.pagedData.datas.map<RecordItem>((v: IAlarm) => ({\r\n                    type: 'warning',\r\n                    content: v.alarmMsg,\r\n                    timestamp: v.alarmTime\r\n                }));\r\n            })\r\n            .catch(console.log);\r\n    }\r\n    public mounted() {\r\n        this.createPie().then(chart => this.chart1 = chart);\r\n        this.createBar().then(chart => this.chart2 = chart);\r\n    }\r\n    public beforeDestroy() {\r\n        if (this.chart1) {\r\n            this.chart1.dispose();\r\n        }\r\n\r\n        if (this.chart2) {\r\n            this.chart2.dispose();\r\n        }\r\n    }\r\n\r\n    private eConsole(param: any, chart: echarts.ECharts, option: any) {\r\n        if (typeof param.seriesIndex !== 'undefined') {\r\n            if (param.type === 'click') {\r\n                const len = option.legend.data.length;\r\n\r\n                for (let i = 0; i < len; i++) {\r\n                    if (param.seriesIndex === 0 && param.dataIndex === i) {\r\n                        this.getOption(param.data.name, chart, option);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private getOption(name: string, chart: echarts.ECharts, option: any) {\r\n        fetch('/data/json/data.json')\r\n            .then((res: Response) => res.json())\r\n            .then((res: any) => {\r\n                this.forOption(name, res.data, option, chart);\r\n            });\r\n    }\r\n\r\n    private forOption(\r\n        name: string,\r\n        msgData: any,\r\n        option: any,\r\n        chat: echarts.ECharts\r\n    ) {\r\n        msgData.trees.forEach((v: any) => {\r\n            if (v.name === name) {\r\n                option.series[1].data = v.list;\r\n                chat.setOption(option);\r\n            }\r\n        });\r\n    }\r\n\r\n    private async createPie() {\r\n        const option: any = {\r\n            tooltip: {\r\n                trigger: 'item',\r\n                formatter: '{a} <br/>{b}: {c} ({d}%)'\r\n            },\r\n            legend: {\r\n                orient: 'vertical',\r\n                x: 'left',\r\n                data: ['设备管理', '警报', '标签']\r\n            },\r\n            series: [\r\n                {\r\n                    name: '信息',\r\n                    type: 'pie',\r\n                    selectedMode: 'single',\r\n                    radius: [0, '30%'],\r\n                    label: { normal: { position: 'inner' } },\r\n                    labelLine: { normal: { show: false } },\r\n                    data: [\r\n                        { value: 335, name: '设备管理', selected: true },\r\n                        { value: 679, name: '警报' },\r\n                        { value: 1548, name: '标签' }\r\n                    ]\r\n                },\r\n                {\r\n                    name: '信息来源',\r\n                    type: 'pie',\r\n                    radius: ['40%', '55%'],\r\n                    label: {\r\n                        normal: {\r\n                            formatter: '{a|{a}}{abg|}\\n{hr|}\\n  {b|{b}：}{c}  {per|{d}%}  ',\r\n                            backgroundColor: '#eee',\r\n                            borderColor: '#aaa',\r\n                            borderWidth: 1,\r\n                            borderRadius: 4,\r\n                            rich: {\r\n                                a: { color: '#999', lineHeight: 22, align: 'center' },\r\n                                hr: { borderColor: '#aaa', width: '100%', borderWidth: 0.5, height: 0 },\r\n                                b: { fontSize: 16, lineHeight: 33 },\r\n                                per: { color: '#eee', backgroundColor: '#334455', padding: [2, 4], borderRadius: 2 }\r\n                            }\r\n                        }\r\n                    },\r\n                    data: [\r\n                        { value: 335, id: 1, name: '标签数量' },\r\n                        { value: 310, id: 2, name: '标签' },\r\n                        { value: 234, id: 3, name: '电子围栏' }\r\n                    ]\r\n                }\r\n            ]\r\n        };\r\n\r\n        const chart = await this.createChart((<HTMLDivElement>this.$refs.main));\r\n        chart.setOption(option);\r\n        chart.on('click', (e: any) => this.eConsole(e, chart, option));\r\n\r\n        return chart;\r\n    }\r\n\r\n    private async createBar() {\r\n        const weatherIcons: any = {\r\n            Sunny: '/images/qy.png',\r\n            Cloudy: '/images/ter.png',\r\n            Showers: '/images/dzwl.png'\r\n        };\r\n\r\n        const seriesLabel: any = {\r\n            normal: {\r\n                show: true,\r\n                textBorderColor: '#333',\r\n                textBorderWidth: 2\r\n            }\r\n        };\r\n\r\n        const option2: any = {\r\n            title: { text: '区域信息' },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: { type: 'shadow' }\r\n            },\r\n            legend: { data: ['报警信息', '标签数量', '负责人数'] },\r\n            grid: { left: 100 },\r\n            toolbox: {\r\n                show: true,\r\n                feature: { saveAsImage: {} }\r\n            },\r\n            xAxis: {\r\n                type: 'value', name: 'Days',\r\n                axisLabel: { formatter: '{value}' }\r\n            },\r\n            yAxis: {\r\n                type: 'category',\r\n                inverse: true,\r\n                data: ['监控区域1', '监控区域2', '监控区域3'],\r\n                axisLabel: {\r\n                    formatter(value: any) {\r\n                        return '{' + value + '| }\\n{value|' + value + '}';\r\n                    },\r\n                    margin: 20,\r\n                    rich: {\r\n                        value: { lineHeight: 30, align: 'center' },\r\n                        Sunny: {\r\n                            height: 40, align: 'center',\r\n                            backgroundColor: { image: weatherIcons.Sunny }\r\n                        },\r\n                        Cloudy: {\r\n                            height: 40, align: 'center',\r\n                            backgroundColor: { image: weatherIcons.Cloudy }\r\n                        },\r\n                        Showers: {\r\n                            height: 40, align: 'center',\r\n                            backgroundColor: { image: weatherIcons.Showers }\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            series: [\r\n                {\r\n                    name: '报警信息',\r\n                    type: 'bar',\r\n                    data: [165, 170, 30],\r\n                    label: seriesLabel,\r\n                    markPoint: {\r\n                        symbolSize: 1,\r\n                        symbolOffset: [0, '50%'],\r\n                        label: {\r\n                            normal: {\r\n                                formatter: '{a|{a}\\n}{b|{b} }{c|{c}}',\r\n                                backgroundColor: 'rgb(242,242,242)',\r\n                                borderColor: '#aaa',\r\n                                borderWidth: 1,\r\n                                borderRadius: 4,\r\n                                padding: [4, 10],\r\n                                lineHeight: 26,\r\n                                position: 'right',\r\n                                distance: 20,\r\n                                rich: {\r\n                                    a: {\r\n                                        align: 'center',\r\n                                        color: '#fff',\r\n                                        fontSize: 18,\r\n                                        textShadowBlur: 2,\r\n                                        textShadowColor: '#000',\r\n                                        textShadowOffsetX: 0,\r\n                                        textShadowOffsetY: 1,\r\n                                        textBorderColor: '#333',\r\n                                        textBorderWidth: 2\r\n                                    },\r\n                                    b: { color: '#333' },\r\n                                    c: {\r\n                                        color: '#ff8811',\r\n                                        textBorderColor: '#000',\r\n                                        textBorderWidth: 1,\r\n                                        fontSize: 22\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n                { name: '标签数量', type: 'bar', label: seriesLabel, data: [150, 105, 110] },\r\n                { name: '负责人数', type: 'bar', label: seriesLabel, data: [220, 82, 63] }\r\n            ]\r\n        };\r\n\r\n        const chart = await this.createChart((<HTMLDivElement>this.$refs.myChart2));\r\n        chart.setOption(option2);\r\n\r\n        return chart;\r\n    }\r\n\r\n    private async createChart(dom: HTMLDivElement): Promise<echarts.ECharts> {\r\n        await loopAwait(() => !!dom.offsetWidth && !!dom.offsetHeight);\r\n\r\n        return echarts.init(dom);\r\n    }\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!./index.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!./index.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=5db44ad5&\"\nimport script from \"./index.ts?vue&type=script&lang=ts&\"\nexport * from \"./index.ts?vue&type=script&lang=ts&\"\nimport style0 from \"./Index.vue?vue&type=style&index=0&lang=postcss&module=true&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.$style.container},[_c('div',{class:_vm.$style.img}),_c('p',{class:_vm.$style.p},[_vm._v(\"哎呀迷路了...\")]),_c('div',{class:_vm.$style.reason},[_c('p',[_vm._v(\"可能的原因：\")]),_vm._m(0)]),_c('div',{staticStyle:{\"text-align\":\"center\",\"margin-top\":\"40px\"}},[_c('router-link',{attrs:{\"to\":\"/\"}},[_c('el-button',{attrs:{\"type\":\"primary\"}},[_vm._v(\"\\n                返回首页\\n            \")])],1)],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',[_vm._v(\"原来的页面不存在了\")]),_c('li',[_vm._v(\"我们的服务器被外星人劫持了\")]),_c('li',[_vm._v(\"路由初始化未完成\")])])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from 'vue';\r\nimport Component from 'vue-class-component';\r\n\r\n@Component\r\nexport default class NotFound extends Vue {}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotFound.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotFound.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NotFound.vue?vue&type=template&id=77465a04&\"\nimport script from \"./NotFound.vue?vue&type=script&lang=ts&\"\nexport * from \"./NotFound.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./NotFound.vue?vue&type=style&index=0&lang=postcss&module=true&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports","/**\r\n * 权限相关\r\n */\r\nimport { RouteConfig, Route } from 'vue-router/types/router';\r\nimport { ALL_PERMISSION } from '@/constant';\r\n\r\nexport class RouteList {\r\n    public routes: RouteConfig[] = [];\r\n    private roles: IJson = ALL_PERMISSION;\r\n\r\n    constructor() {\r\n        const user = sessionStorage.getItem('user');\r\n        if (user) {\r\n            try {\r\n                this.roles = JSON.parse(JSON.parse(user).role);\r\n            } catch (e) {\r\n                //\r\n            }\r\n        }\r\n\r\n        ['admin', 'system', 'base', 'people', 'map', 'alarm'].forEach(v => {\r\n            Reflect.get(this, v).call(this);\r\n        });\r\n    }\r\n\r\n    // 生成管理员相关路由\r\n    public admin() {\r\n        const routes: RouteConfig[] = [];\r\n\r\n        if (this.hasPermission('admin', 'get')) {\r\n            routes.push({\r\n                path: 'list',\r\n                name: 'admin-list',\r\n                component: () => import(/* webpackChunkName: \"admin\" */ '@/views/admin/AdminList.vue'),\r\n                props: {\r\n                    permission: {\r\n                        delete: this.hasPermission('admin', 'delete'),\r\n                        put: this.hasPermission('admin', 'put')\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        if (this.hasPermission('admin', 'post')) {\r\n            routes.push({\r\n                path: 'add',\r\n                name: 'admin-add',\r\n                component: () => import(/* webpackChunkName: \"admin\" */ '@/views/admin/AdminAdd.vue')\r\n            });\r\n        }\r\n\r\n        if (routes.length) {\r\n            routes[0].alias = '';\r\n            this.routes.push({\r\n                path: 'admin',\r\n                name: 'admin',\r\n                component: () => import(/* webpackChunkName: \"admin\" */ '@/views/admin/Admin.vue'),\r\n                children: routes\r\n            });\r\n        }\r\n    }\r\n\r\n    // 生成系统设置相关路由\r\n    public system() {\r\n        const routes: RouteConfig[] = ['fence', 'camera', 'protocol', 'group'].map(k => {\r\n            const func = Reflect.get(this, k);\r\n            return func.call(this);\r\n        }).flat();\r\n\r\n        routes.push({\r\n            path: 'bind', name: 'bind',\r\n            component: () => import(/* webpackChunkName: \"system\" */ '@/views/system/Bind.vue')\r\n        });\r\n\r\n        if (routes.length) {\r\n            routes[0].alias = '';\r\n            this.routes.push({\r\n                path: 'system',\r\n                name: 'system',\r\n                component: () => import(/* webpackChunkName: \"system\" */ '@/views/system/System.vue'),\r\n                children: routes\r\n            });\r\n        }\r\n    }\r\n    // 区域\r\n    public fence() {\r\n        const getPermission = this.hasPermission('fence', 'get');\r\n        const putPermission = this.hasPermission('fence', 'post');\r\n        if (putPermission || getPermission) {\r\n            return [{\r\n                path: 'fence',\r\n                name: 'fence',\r\n                component: () => import(/* webpackChunkName: \"system\" */ '@/views/system/Fence.vue'),\r\n                props: {\r\n                    permission: {\r\n                        delete: this.hasPermission('fence', 'delete'),\r\n                        put: this.hasPermission('fence', 'put'),\r\n                        post: putPermission,\r\n                        get: getPermission\r\n                    }\r\n                }\r\n            }];\r\n        }\r\n\r\n        return [];\r\n    }\r\n    // 摄像机\r\n    public camera() {\r\n        const routes: RouteConfig[] = [];\r\n        if (this.hasPermission('camera', 'get')) {\r\n            routes.push({\r\n                path: 'camera/list',\r\n                name: 'camera-list',\r\n                component: () => import(/* webpackChunkName: \"system\" */ '@/views/system/camera/CameraList.vue'),\r\n                props: {\r\n                    permission: {\r\n                        delete: this.hasPermission('camera', 'delete'),\r\n                        put: this.hasPermission('camera', 'put')\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        if (this.hasPermission('camera', 'post')) {\r\n            routes.push({\r\n                path: 'camera/add',\r\n                name: 'camera-add',\r\n                component: () => import(/* webpackChunkName: \"system\" */ '@/views/system/camera/CameraAdd.vue')\r\n            });\r\n        }\r\n\r\n        return routes;\r\n    }\r\n    // 协议\r\n    public protocol() {\r\n        const routes: RouteConfig[] = [];\r\n        if (this.hasPermission('protocol', 'get')) {\r\n            routes.push({\r\n                path: 'protocol/list',\r\n                name: 'protocol-list',\r\n                component: () => import(/* webpackChunkName: \"system\" */ '@/views/system/protocol/ProtocolList.vue'),\r\n                props: {\r\n                    permission: {\r\n                        delete: this.hasPermission('protocol', 'delete')\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        if (this.hasPermission('protocol', 'post')) {\r\n            routes.push({\r\n                path: 'protocol/add',\r\n                name: 'protocol-add',\r\n                component: () => import(/* webpackChunkName: \"system\" */ '@/views/system/protocol/ProtocolAdd.vue')\r\n            });\r\n        }\r\n\r\n        if (this.hasPermission('protocol', 'put')) {\r\n            routes.push({\r\n                path: 'protocol/submissio',\r\n                name: 'protocol-submissio',\r\n                component: () => import(/* webpackChunkName: \"system\" */ '@/views/system/protocol/Submissio.vue')\r\n            });\r\n        }\r\n\r\n        return routes;\r\n    }\r\n    // 分组\r\n    public group() {\r\n        return [\r\n            {\r\n                path: 'group/list',\r\n                name: 'group-list',\r\n                component: () => import(/* webpackChunkName: \"system\" */ '@/views/system/group/GroupList.vue')\r\n            },\r\n            {\r\n                path: 'group/add',\r\n                name: 'group-add',\r\n                component: () => import(/* webpackChunkName: \"system\" */ '@/views/system/group/GroupAdd.vue')\r\n            }\r\n        ];\r\n    }\r\n\r\n    // 设备\r\n    public base() {\r\n        const putPermission = this.hasPermission('base', 'put');\r\n        const routes: RouteConfig[] = [];\r\n\r\n        if (this.hasPermission('base', 'get')) {\r\n            routes.push({\r\n                path: 'info', alias: '', name: 'base-info',\r\n                component: () => import(/* webpackChunkName: \"base\" */ '@/views/base/Info.vue'),\r\n                props: {\r\n                    permission: {\r\n                        delete: this.hasPermission('base', 'delete'),\r\n                        put: putPermission\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        if (this.hasPermission('base', 'post')) {\r\n            routes.push({\r\n                path: 'add', name: 'base-add',\r\n                component: () => import(/* webpackChunkName: \"base\" */ '@/views/base/BaseAdd.vue')\r\n            });\r\n        }\r\n\r\n        if (putPermission) {\r\n            routes.push({\r\n                path: 'calibration', name: 'calibration',\r\n                component: () => import(/* webpackChunkName: \"base\" */ '@/views/base/Calibration.vue')\r\n            });\r\n        }\r\n\r\n        if (routes.length) {\r\n            routes[0].alias = '';\r\n            this.routes.push({\r\n                path: 'base', name: 'base',\r\n                component: () => import(/* webpackChunkName: \"base\" */ '@/views/base/BaseIndex.vue'),\r\n                children: routes\r\n            });\r\n        }\r\n    }\r\n\r\n    // 人员管理\r\n    public people() {\r\n        const routes: RouteConfig[] = [];\r\n        let redirect = '';\r\n        if (this.hasPermission('people', 'get')) {\r\n            routes.push({\r\n                path: 'list/:type',\r\n                name: 'people-list',\r\n                component: () => import(/* webpackChunkName: \"people\" */ '@/views/people/PeopleList.vue'),\r\n                props: (route: Route) => ({\r\n                    type: route.params.type,\r\n                    permission: {\r\n                        delete: this.hasPermission('admin', 'delete'),\r\n                        put: this.hasPermission('admin', 'put')\r\n                    }\r\n                })\r\n            });\r\n            redirect = 'people/list/1';\r\n        }\r\n\r\n        if (this.hasPermission('people', 'post')) {\r\n            routes.push({\r\n                path: 'add', name: 'people-add',\r\n                component: () => import(/* webpackChunkName: \"people\" */ '@/views/people/PeopleAdd.vue')\r\n            });\r\n            redirect = redirect || '/people/add';\r\n        }\r\n\r\n        if (routes.length) {\r\n            this.routes.push({\r\n                path: 'people', redirect, name: 'people',\r\n                component: () => import(/* webpackChunkName: \"people\" */ '@/views/people/PeopleIndex.vue'),\r\n                children: routes\r\n            });\r\n        }\r\n    }\r\n\r\n    // 地图、实时监控\r\n    public map() {\r\n        const routes: RouteConfig[] = [];\r\n\r\n        if (this.hasPermission('map', 'get')) {\r\n            routes.push(\r\n                {\r\n                    path: '', name: 'monitor',\r\n                    component: () => import(/* webpackChunkName: \"map\" */ '@/views/map/Monitor.vue')\r\n                },\r\n                {\r\n                    path: 'history', name: 'history',\r\n                    component: () => import(/* webpackChunkName: \"map\" */ '@/views/map/History.vue')\r\n                }\r\n            );\r\n        }\r\n\r\n        if (this.hasPermission('map', 'post')) {\r\n            routes.push({\r\n                path: 'add', name: 'map-add',\r\n                component: () => import(/* webpackChunkName: \"map\" */ '@/views/map/MapAdd.vue')\r\n            });\r\n        }\r\n\r\n        const putPermission = this.hasPermission('map', 'put');\r\n        const deletePermission = this.hasPermission('map', 'delete');\r\n        if (putPermission || deletePermission) {\r\n            routes.push({\r\n                path: 'edit', name: 'map-edit',\r\n                component: () => import(/* webpackChunkName: \"map\" */ '@/views/map/MapUpdate.vue'),\r\n                props: {\r\n                    permission: {\r\n                        delete: deletePermission,\r\n                        put: putPermission\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        if (routes.length) {\r\n            if (routes[0].path) {\r\n                routes[0].alias = '';\r\n            }\r\n\r\n            this.routes.push({\r\n                path: 'monitor', children: routes,\r\n                component: () => import(/* webpackChunkName: \"map\" */ '@/views/map/MapIndex.vue')\r\n            });\r\n        }\r\n    }\r\n\r\n    // 报警信息\r\n    public alarm() {\r\n        if (this.hasPermission('alarm', 'get')) {\r\n            this.routes.push({\r\n                path: 'alarm', name: 'alarm',\r\n                component: () => import(/* webpackChunkName: \"alarm\" */ '@/views/alarm/Alarm.vue'),\r\n                props: {\r\n                    permission: {\r\n                        delete: this.hasPermission('alarm', 'delete')\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    // 判断是否有权限\r\n    private hasPermission(item: string, method: string) {\r\n        return this.roles[item]\r\n            && (this.roles[item][method]\r\n                || Array.isArray(this.roles[item]) && this.roles[item].includes(method)\r\n            );\r\n    }\r\n}\r\n\r\n","import Vue from 'vue';\r\nimport Router, { RouteConfig } from 'vue-router';\r\n\r\nimport Login from './views/Login.vue';\r\nimport Main from './views/Main.vue';\r\nimport Index from './views/index/Index.vue';\r\nimport NotFound from './views/NotFound.vue';\r\n\r\nimport { RouteList } from './assets/lib/role';\r\n\r\nVue.use(Router);\r\n\r\nconst router = new Router({\r\n    routes: [\r\n        { path: '/login', name: 'login', component: Login },\r\n        { path: '/404', name: '404', component: NotFound }\r\n    ],\r\n    mode: 'history',\r\n    base: process.env.BASE_URL,\r\n});\r\n\r\n\r\n// ==========================根据权限初始化路由\r\nlet loadRouter = false;\r\nexport function initRouter() {\r\n    if (loadRouter) {\r\n        return;\r\n    }\r\n\r\n    const routes = new RouteList().routes;\r\n\r\n    router.addRoutes([\r\n        {\r\n            path: '/', name: 'main', component: Main,\r\n            children: [\r\n                { path: 'index', name: 'index', component: Index, alias: '' },\r\n                ...(<RouteConfig[]>routes),\r\n                {\r\n                    path: '/chart', name: 'chart',\r\n                    component: () => import(/* webpackChunkName: \"chart\" */ '@/views/chart/ChartIndex.vue'),\r\n                    children: [\r\n                        {\r\n                            path: 'heatmap', name: 'heatmap', alias: '',\r\n                            component: () => import(/* webpackChunkName: \"chart\" */ '@/views/chart/HeatMap.vue'),\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n        },\r\n        { path: '*', redirect: '/404' }\r\n    ]);\r\n\r\n    loadRouter = true;\r\n}\r\n\r\nexport default router;\r\n","import Vue from 'vue';\r\nimport Vuex from 'vuex';\r\nimport { BASE_URL } from './constant';\r\n\r\nVue.use(Vuex);\r\n\r\nexport interface ZoneMode {\r\n    in: number; // 进入区域\r\n    out: number; // 离开区域\r\n    switch: number; // 切换区域\r\n    group: number; // 分组区域\r\n    other: number; // 其他\r\n}\r\n\r\nconst store = new Vuex.Store({\r\n    state: {\r\n        baseUrl: BASE_URL,\r\n        zoneMode: {\r\n            switch: 1,\r\n            in: 2,\r\n            out: 3,\r\n            group: 4,\r\n            other: 5\r\n        },\r\n        modeDescript: ['', '切换区域', '进入区域', '离开区域', '分组区域', '其他'],\r\n        rootWidth: 0\r\n    },\r\n    mutations: {\r\n        rootWidth(state, width: number) {\r\n            state.rootWidth = width;\r\n        }\r\n    }\r\n});\r\n\r\nexport default store;\r\n","// tslint:disable:ban-types\r\n\r\n/**\r\n * 发布订阅者模式\r\n */\r\n\r\nimport { EvtName } from './index.d';\r\n\r\nexport default class Events {\r\n    /**\r\n     * 为一个对象或构造函数添加 发布-订阅 功能\r\n     */\r\n    public static mixTo<T extends Function | object>(target: T) {\r\n        if (typeof target === 'function') {\r\n            const prototype = target.prototype;\r\n            Events.assgin(prototype);\r\n\r\n            const fn = (...args: any[]) => {\r\n                const data = Reflect.construct(target, args);\r\n                data.events = new Map<EvtName, Set<Function>>();\r\n\r\n                return data;\r\n            };\r\n\r\n            return <T>fn;\r\n        } else {\r\n            Events.assgin(target);\r\n            (<any>target).events = new Map<EvtName, Set<Function>>();\r\n\r\n            return target;\r\n        }\r\n    }\r\n    private static assgin(target: Record<string | symbol, any>) {\r\n        const keys = Object.getOwnPropertyNames(Events.prototype);\r\n        keys.forEach(k => {\r\n            if (k !== 'constructor') {\r\n                target[k] = Reflect.get(Events.prototype, k);\r\n            }\r\n        });\r\n    }\r\n\r\n    private readonly events = new Map<EvtName, Set<Function>>();\r\n\r\n    public on(evt: EvtName, handler: Function) {\r\n        if (typeof handler !== 'function') {\r\n            return this;\r\n        }\r\n\r\n        const set = this.events.get(evt) || new Set();\r\n        set.add(handler);\r\n        this.events.set(evt, set);\r\n\r\n        return this;\r\n    }\r\n\r\n    public off(evt: EvtName, handler?: Function) {\r\n        if (!handler) {\r\n            this.events.delete(evt);\r\n        } else {\r\n            const set = this.events.get(evt);\r\n            set && set.delete(handler);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    public emit(evt: EvtName, ...args: any[]) {\r\n        return this.trigger(evt, ...args);\r\n    }\r\n\r\n    public once(evt: EvtName, handler: Function) {\r\n        if (typeof handler === 'function') {\r\n            const fn = (...args: any[]) => {\r\n                handler(...args);\r\n                this.off(evt, fn);\r\n            };\r\n\r\n            this.on(evt, fn);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    public trigger(evt: EvtName, ...args: any[]) {\r\n        const set = this.events.get(evt);\r\n        set && set.forEach(fn => fn(...args));\r\n\r\n        return this;\r\n    }\r\n}\r\n","/// <reference path=\"./types/vue-module.d.ts\" />\r\n\r\nimport Vue from 'vue';\r\nimport App from './App.vue';\r\nimport router, { initRouter } from './router';\r\nimport store from './store';\r\nimport ElementUI from 'element-ui';\r\nimport 'element-ui/lib/theme-chalk/index.css';\r\nimport './assets/public.css';\r\nimport HTTP from './assets/lib/http';\r\nimport { Route } from 'vue-router';\r\nimport VueWorker from 'vue-worker';\r\nimport VueCropper from 'vue-cropper';\r\nimport * as PIXI from 'pixi.js';\r\nimport { initConfig } from './constant';\r\nimport Events from './assets/lib/events';\r\nimport { formatDate } from './assets/lib/date';\r\nimport { awaitWrap } from './assets/utils/util';\r\n\r\n// ========================================全局变量及注入vue实例的属性\r\n(<any>window).PIXI = PIXI; // add code\r\n(<any>window).PIXI.default = PIXI;\r\n\r\nVue.use(VueCropper).use(ElementUI).use(VueWorker);\r\n\r\nconst http = Vue.prototype.$http = new HTTP();\r\nVue.prototype.$event = new Events();\r\nVue.prototype.$async = awaitWrap;\r\nVue.config.productionTip = false;\r\n\r\n// ====================================全局路由守卫\r\n/**\r\n * 判断是否未登录\r\n * 未登录时跳转到登录界面\r\n */\r\nrouter.beforeEach((to: Route, from: Route, next: any) => {\r\n  const isLogin = sessionStorage.getItem('login');\r\n  if (!(isLogin && +isLogin) && to.path !== '/login') {\r\n    http.get('/api/admin/getall', {\r\n      pageSize: 1,\r\n      currentPage: 1\r\n    })\r\n      .then(() => {\r\n        sessionStorage.setItem('login', '1');\r\n        initRouter();\r\n        next(to);\r\n      })\r\n      .catch(e => {\r\n        next(false);\r\n        location.href = '/login';\r\n      });\r\n  } else {\r\n    next();\r\n  }\r\n});\r\n\r\n// =============================================全局filter\r\nVue.filter('date', formatDate);\r\n\r\n// ==================================初始化\r\nasync function init() {\r\n  await initConfig();\r\n\r\n  if (+(<string>sessionStorage.getItem('login'))) {\r\n    console.log('load router...');\r\n    initRouter();\r\n  }\r\n\r\n  console.log('app init...');\r\n  new Vue({\r\n    router,\r\n    store,\r\n    render: (h) => h(App),\r\n  }).$mount('#app');\r\n}\r\n\r\ninit();\r\n","import { BASE_URL } from '@/constant';\r\n\r\nexport * from './await';\r\n\r\n/**\r\n * 获取一定范围内的随机数\r\n */\r\nexport function randomNum(min: number, max: number, isInt: boolean = true) {\r\n    if (Number.isNaN(min) || Number.isNaN(max)) {\r\n        console.error('min及max必须是数字');\r\n\r\n        return 0;\r\n    }\r\n\r\n    if (min > max) {\r\n        [max, min] = [min, max];\r\n    }\r\n\r\n    let num = min + Math.random() * (max - min);\r\n    if (isInt) {\r\n        num = Math.round(num);\r\n    }\r\n\r\n    return num;\r\n}\r\n\r\n/**\r\n * 获取随机颜色\r\n */\r\nexport function randomColor(hasAlpha: boolean = false) {\r\n    const color = new Array(3).fill(0).map(v => randomNum(0, 255));\r\n    color.push(hasAlpha ? Math.random() : 1);\r\n\r\n    return `rgba(${color.join(',')})`;\r\n}\r\n\r\n/**\r\n * 将对象数据根据给定的key分组\r\n * @param isArr 对象的值是否是数组\r\n */\r\nexport function arr2obj(arr: IJson[], key: string, isArr: boolean = true) {\r\n    const group: IJson = {};\r\n    arr.forEach((v: any) => {\r\n        const k: string = v[key];\r\n        if (isArr) {\r\n            (group[k] || (group[k] = [])).push(v);\r\n        } else {\r\n            group[k] = v;\r\n        }\r\n    });\r\n\r\n    return group;\r\n}\r\n\r\n// 将字符转成utf-8编码\r\nexport function encodeUtf8(text: string) {\r\n    return new Uint16Array(text.length).map((el, idx) => text.charCodeAt(idx));\r\n}\r\n\r\nexport function getIp() {\r\n    let ip: string = location.hostname;\r\n    if (process.env.NODE_ENV !== 'production') {\r\n        const res = BASE_URL.match(/^http:\\/\\/([\\w\\d\\.]+)(:\\d+)?\\/$/);\r\n        if (res) {\r\n            ip = res[1];\r\n        } else {\r\n            return console.error('域名解析失败');\r\n        }\r\n    }\r\n\r\n    return ip;\r\n}\r\n\r\nexport function hexadecimalRuleFactory(length: number, name: string) {\r\n    return {\r\n        pattern: new RegExp(`^[0-9A-Fa-f]{1,${length}}$`), // /^[0-9A-Fa-f]{1,4}$/,\r\n        message:\r\n            `${name} is not a hexadecimal string less than ${length} in length`\r\n    };\r\n}\r\n\r\n/**\r\n * base64转blob\r\n */\r\nexport function base642blob(base64: string) {\r\n    if (base64.startsWith('data:') && base64.includes('base64')) {\r\n        const arr = base64.split(',');\r\n        const mime = arr[0].match(/:(.*?);/)![1];\r\n        const bstr = atob(arr[1]);\r\n        let n = bstr.length;\r\n        const u8arr = new Uint8Array(n);\r\n        while (n--) {\r\n            u8arr[n] = bstr.charCodeAt(n);\r\n        }\r\n        return new Blob([u8arr], { type: mime });\r\n    }\r\n\r\n    return new Blob();\r\n}\r\n\r\nexport function getConfig<T>(key: string, defaultValue: T) {\r\n    const config = sessionStorage.getItem('config');\r\n\r\n    if (!config) {\r\n        console.error('配置不存在');\r\n        return defaultValue;\r\n    }\r\n\r\n    let res = JSON.parse(config);\r\n    const keys = [];\r\n    for (const k of key.split('.')) {\r\n        keys.push(k);\r\n        res = res[k];\r\n        if (res == null) {\r\n            console.warn(`config.${keys.join('.')} is ${res === undefined ? 'undefined' : 'null'}`);\r\n            return defaultValue;\r\n        }\r\n    }\r\n\r\n    return <T>res;\r\n}\r\n","/**\r\n * 将一个时间段转化为\"dd:hh:mm:ss\"的形式\r\n * @param range 时间范围\r\n * @param progress 需转化的时间占range的比例\r\n */\r\nexport function formatTime(range: number, progress: number) {\r\n    if (!range) {\r\n        return '00:00';\r\n    }\r\n    let time = (range * progress) / 100;\r\n\r\n    const DAY_MS: number = 86400000;\r\n    const HOUR_MS: number = 3600000;\r\n    const MINUTE_MS: number = 60000;\r\n\r\n    const day = Math.floor(time / DAY_MS);\r\n    time = time % DAY_MS;\r\n\r\n    const hour = Math.floor(time / HOUR_MS);\r\n    time = time % HOUR_MS;\r\n\r\n    const minute = Math.floor(time / MINUTE_MS);\r\n    time = time % MINUTE_MS;\r\n\r\n    const tip: number[] = [minute, Math.round(time / 1000)];\r\n    if (hour > 0) {\r\n        tip.unshift(hour);\r\n    }\r\n    if (day > 0) {\r\n        tip.unshift(day, hour);\r\n    }\r\n\r\n    return tip.map((v, i) => (i ? v.toString().padStart(2, '0') : v)).join(':');\r\n}\r\n\r\n/**\r\n * 将一个时间转成特定格式\r\n * @param value 时间\r\n * @param fmt 格式\r\n */\r\nexport function formatDate(value: number | Date, fmt: string = 'yyyy/MM/dd hh:mm:ss') {\r\n    const date = typeof value === 'number' ? new Date(value) : value;\r\n\r\n    if (/(y+)/.test(fmt)) {\r\n        fmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));\r\n    }\r\n\r\n    const o = [\r\n        'M+', date.getMonth() + 1,\r\n        'd+', date.getDate(),\r\n        'h+', date.getHours(),\r\n        'm+', date.getMinutes(),\r\n        's+', date.getSeconds()\r\n    ];\r\n\r\n    for (let i = 0; i < o.length; i++) {\r\n        if (new RegExp(`(${o[i++]})`).test(fmt)) {\r\n            const str = o[i] + '';\r\n            fmt = fmt.replace(RegExp.$1, (RegExp.$1.length === 1) ? str : str.padStart(str.length, '0'));\r\n        }\r\n    }\r\n    return fmt;\r\n}\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-0-0!../../../node_modules/css-loader/index.js??ref--7-oneOf-0-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-0-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=style&index=0&lang=postcss&module=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-0-0!../../../node_modules/css-loader/index.js??ref--7-oneOf-0-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-0-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=style&index=0&lang=postcss&module=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-0-0!../../node_modules/css-loader/index.js??ref--7-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotFound.vue?vue&type=style&index=0&lang=postcss&module=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-0-0!../../node_modules/css-loader/index.js??ref--7-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotFound.vue?vue&type=style&index=0&lang=postcss&module=true&\""],"sourceRoot":""}