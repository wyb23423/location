{"version":3,"sources":["webpack:///./node_modules/core-js/modules/_array-methods.js","webpack:///./node_modules/core-js/modules/_is-array.js","webpack:///./src/components/Select.vue?0614","webpack:///./src/components/Select.vue?84c1","webpack:///./src/components/Select.vue?9155","webpack:///./src/components/Select.vue","webpack:///./node_modules/core-js/modules/es6.array.find.js","webpack:///./src/views/people/add.html","webpack:///./src/views/people/PeopleAdd.vue?9dc2","webpack:///./src/views/people/PeopleAdd.vue?f017","webpack:///./src/views/people/PeopleAdd.vue","webpack:///./src/views/people/PeopleAdd.vue?c3da","webpack:///./src/views/people/PeopleAdd.vue?3242","webpack:///./node_modules/core-js/modules/_array-species-create.js","webpack:///./node_modules/core-js/modules/_array-species-constructor.js","webpack:///./src/views/people/PeopleAdd.vue?333a"],"names":["ctx","__webpack_require__","IObject","toObject","toLength","asc","module","exports","TYPE","$create","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","create","$this","callbackfn","that","val","res","O","self","f","length","index","result","undefined","push","cof","Array","isArray","arg","render","_vm","this","_h","$createElement","_c","_self","attrs","filterable","default-first-option","multiple","disabled","collapse-tags","on","change","model","value","callback","$$v","currValue","expression","_l","item","key","id","label","name","staticRenderFns","Selectvue_type_script_lang_ts_Select","_Vue","Select","_this","Object","classCallCheck","options","inherits","createClass","_this2","$http","get","url","pageSize","currentPage","then","pagedData","datas","map","v","keys","data","catch","console","error","_this3","$emit","find","o","vue_runtime_esm","tslib_es6","vue_property_decorator","default","vue_class_component_esm","Selectvue_type_script_lang_ts_","components_Selectvue_type_script_lang_ts_","component","componentNormalizer","__webpack_exports__","$export","$find","KEY","forced","P","F","arguments","staticStyle","padding-left","padding-top","color","_v","ref","width","form","label-width","click","$event","visible","effect","content","placement","class","$style","avatar","src","fit","prop","required","$set","rules","pattern","type","_n","_e","onSubmit","reset","modal-append-to-body","top","title","update:visible","staticClass","divider","btn","margin-right","accept","auto-upload","action","show-file-list","on-change","changeUpload","size","margin","height","span","xs","img","autoCrop","fixed","fixedNumber","realTime","drag","center","tip","offset","preview","style","assign","previewBox","zoom","w","ofsset","ok","PeopleAddvue_type_script_lang_ts_PeopleAdd","PeopleAdd","sex","level","reason","file","raw","$message","reader","FileReader","onload","e","target","readAsDataURL","div","h","cropper","$refs","getCropData","success","_this4","validate","valid","tagPhoto","getcanvas","c","post","toDataURL","Promise","all","_ref","_ref2","slicedToArray","res1","res2","now","Date","createTime","updateTime","updateUser","createUser","locked","photo","resultMap","photoUrl","avatarUrl","Content-Type","log","resetFields","text","canvas","document","createElement","Image","resolve","reject","getContext","font","strokeStyle","textAlign","fillText","drawImage","onerror","components","app-select","PeopleAddvue_type_script_lang_ts_","people_PeopleAddvue_type_script_lang_ts_","injectStyles","context","PeopleAddvue_type_style_index_0_lang_postcss_module_true_","locals","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_7_oneOf_0_0_node_modules_css_loader_index_js_ref_7_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_0_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PeopleAdd_vue_vue_type_style_index_0_lang_postcss_module_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_7_oneOf_0_0_node_modules_css_loader_index_js_ref_7_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_0_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PeopleAdd_vue_vue_type_style_index_0_lang_postcss_module_true___WEBPACK_IMPORTED_MODULE_0___default","n","speciesConstructor","original","isObject","SPECIES","C","constructor","prototype","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_7_oneOf_1_0_node_modules_css_loader_index_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PeopleAdd_vue_vue_type_style_index_1_lang_postcss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_7_oneOf_1_0_node_modules_css_loader_index_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PeopleAdd_vue_vue_type_style_index_1_lang_postcss___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/people0.a097314b.js","sourcesContent":["// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-select',{attrs:{\"filterable\":\"\",\"default-first-option\":\"\",\"multiple\":!!_vm.multiple,\"disabled\":!!_vm.disabled,\"collapse-tags\":\"\"},on:{\"change\":_vm.change},model:{value:(_vm.currValue),callback:function ($$v) {_vm.currValue=$$v},expression:\"currValue\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from 'vue';\r\nimport Component from 'vue-class-component';\r\nimport { Emit, Prop } from 'vue-property-decorator';\r\n\r\ninterface Option<T> {\r\n    id?: T;\r\n    name: string;\r\n}\r\n\r\n@Component\r\nexport default class Select extends Vue {\r\n    @Prop() public url!: string;\r\n    @Prop() public value!: any;\r\n    @Prop({\r\n        default: () => ({ id: 'id', name: 'name' })\r\n    })\r\n    public keys!: Option<string>;\r\n    @Prop() public multiple?: boolean;\r\n    @Prop() public disabled?: boolean;\r\n\r\n    public options: Array<Option<any>> = [];\r\n    public currValue: any = null;\r\n\r\n    public created() {\r\n        this.$http\r\n            .get(this.url, {\r\n                pageSize: 1000000,\r\n                currentPage: 1\r\n            })\r\n            .then(res => {\r\n                this.options = res.pagedData.datas.map((v: any) => ({\r\n                    id: v[this.keys.id || 'id'],\r\n                    name: v[this.keys.name],\r\n                    data: v\r\n                }));\r\n\r\n                if (this.multiple) {\r\n                    this.currValue = [];\r\n                } else {\r\n                    this.currValue =\r\n                        this.value == null || this.value === ''\r\n                            ? this.options[0].id\r\n                            : this.value;\r\n                }\r\n            })\r\n            .catch(console.error);\r\n    }\r\n\r\n    public change(id: string | number | Array<string | number>) {\r\n        this.$emit('input', id);\r\n\r\n        if (!Array.isArray(id)) {\r\n            id = [id];\r\n        }\r\n        this.$emit('change', id.map(v => this.options.find(o => o.id === v)));\r\n    }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Select.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Select.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Select.vue?vue&type=template&id=1282bae1&\"\nimport script from \"./Select.vue?vue&type=script&lang=ts&\"\nexport * from \"./Select.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\n// 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(5);\nvar KEY = 'find';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"padding-left\":\"5%\",\"padding-top\":\"3%\"}},[_c('h3',{staticStyle:{\"color\":\"#009688\"}},[_vm._v(\"人员添加\")]),_c('el-form',{ref:\"form\",staticStyle:{\"width\":\"80%\"},attrs:{\"model\":_vm.form,\"label-width\":\"auto\"}},[_c('el-form-item',{attrs:{\"label\":\"头像：\"}},[_c('div',{on:{\"click\":function($event){_vm.visible = true}}},[_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"修改头像\",\"placement\":\"bottom-end\"}},[_c('el-image',{class:_vm.$style.avatar,attrs:{\"src\":_vm.form.avatar || '/images/true.png',\"fit\":\"contain\"}})],1)],1)]),_c('el-form-item',{attrs:{\"label\":\"人员名称：\",\"prop\":\"name\",\"required\":\"\"}},[_c('el-input',{model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"性别：\",\"prop\":\"sex\"}},[_c('el-radio-group',{model:{value:(_vm.form.sex),callback:function ($$v) {_vm.$set(_vm.form, \"sex\", $$v)},expression:\"form.sex\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"男\")]),_c('el-radio',{attrs:{\"label\":0}},[_vm._v(\"女\")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"部门：\",\"prop\":\"department\",\"required\":\"\"}},[_c('el-input',{model:{value:(_vm.form.department),callback:function ($$v) {_vm.$set(_vm.form, \"department\", $$v)},expression:\"form.department\"}})],1),_c('el-form-item',{attrs:{\"label\":\"职位：\",\"prop\":\"job\",\"required\":\"\"}},[_c('el-input',{model:{value:(_vm.form.job),callback:function ($$v) {_vm.$set(_vm.form, \"job\", $$v)},expression:\"form.job\"}})],1),_c('el-form-item',{attrs:{\"label\":\"带领人：\"}},[_c('el-input',{model:{value:(_vm.form.leader),callback:function ($$v) {_vm.$set(_vm.form, \"leader\", $$v)},expression:\"form.leader\"}})],1),_c('el-form-item',{attrs:{\"label\":\"区域\"}},[_c('app-select',{attrs:{\"url\":\"/api/zone/getall\"},model:{value:(_vm.form.zone),callback:function ($$v) {_vm.$set(_vm.form, \"zone\", $$v)},expression:\"form.zone\"}})],1),_c('el-form-item',{attrs:{\"label\":\"等级: \",\"prop\":\"level\"}},[_c('el-select',{model:{value:(_vm.form.level),callback:function ($$v) {_vm.$set(_vm.form, \"level\", $$v)},expression:\"form.level\"}},_vm._l(([1, 2, 3]),function(v){return _c('el-option',{key:v,attrs:{\"value\":'T' + v}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"电话号码：\",\"prop\":\"phone\",\"rules\":{ pattern: /^1[3456789]\\d{9}$/ },\"required\":\"\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.form.phone),callback:function ($$v) {_vm.$set(_vm.form, \"phone\", _vm._n($$v))},expression:\"form.phone\"}})],1),_c('el-form-item',{attrs:{\"label\":\"标签号：\",\"prop\":\"tagNo\",\"required\":\"\"}},[_c('el-input',{model:{value:(_vm.form.tagNo),callback:function ($$v) {_vm.$set(_vm.form, \"tagNo\", $$v)},expression:\"form.tagNo\"}})],1),_c('el-form-item',{attrs:{\"label\":\"人员类型：\",\"prop\":\"type\"}},[_c('el-radio-group',{model:{value:(_vm.form.type),callback:function ($$v) {_vm.$set(_vm.form, \"type\", $$v)},expression:\"form.type\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"常驻\")]),_c('el-radio',{attrs:{\"label\":2}},[_vm._v(\"临时\")])],1)],1),(_vm.form.type === 2)?_c('el-form-item',{attrs:{\"label\":\"添加原因：\"}},[_c('el-input',{model:{value:(_vm.form.reason),callback:function ($$v) {_vm.$set(_vm.form, \"reason\", $$v)},expression:\"form.reason\"}})],1):_vm._e(),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"立即创建\")]),_c('el-button',{on:{\"click\":_vm.reset}},[_vm._v(\"重置\")])],1)],1),_c('el-dialog',{attrs:{\"visible\":_vm.visible,\"modal-append-to-body\":false,\"width\":\"70%\",\"top\":\"5vh\",\"title\":\"裁剪头像\"},on:{\"update:visible\":function($event){_vm.visible=$event}}},[_c('div',{staticClass:\"el-divider el-divider--horizontal\",class:_vm.$style.divider}),_c('div',{class:_vm.$style.btn},[_c('span',{staticStyle:{\"margin-right\":\"20px\"}},[_vm._v(\"本地上传\")]),_c('el-upload',{attrs:{\"accept\":\"image/jpeg, image/png\",\"auto-upload\":false,\"action\":\"\",\"show-file-list\":false,\"on-change\":_vm.changeUpload}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"选择文件\")])],1)],1),_c('el-row',{staticStyle:{\"margin\":\"20px 0\"}},[_c('el-col',{staticStyle:{\"height\":\"400px\"},attrs:{\"span\":16,\"xs\":24}},[(!!_vm.url)?_c('VueCropper',{ref:\"cropper\",attrs:{\"img\":_vm.url,\"autoCrop\":true,\"fixed\":true,\"fixedNumber\":[1, 1]},on:{\"realTime\":_vm.realTime}}):_c('el-upload',{staticClass:\"avatar-upload\",attrs:{\"drag\":\"\",\"accept\":\"image/jpeg, image/png\",\"auto-upload\":false,\"action\":\"\",\"show-file-list\":false,\"on-change\":_vm.changeUpload}},[_c('div',{class:_vm.$style.center},[_c('div',[_c('i',{staticClass:\"el-icon-upload\"}),_c('div',{class:_vm.$style.tip},[_vm._v(\"\\r\\n                                将文件拖到此处，或\\r\\n                                \"),_c('em',{staticStyle:{\"color\":\"#66ccff\"}},[_vm._v(\"选择文件\")])]),_c('div',{class:_vm.$style.tip},[_vm._v(\"\\r\\n                                只能上传jpg/png文件，且不超过5M\\r\\n                            \")])])])])],1),_c('el-col',{attrs:{\"span\":7,\"xs\":23,\"offset\":1}},[_c('el-row',[_c('el-col',{class:_vm.$style.preview,style:(Object.assign({}, _vm.previewBox,\r\n                            {zoom: 200 / _vm.preview.w})),attrs:{\"span\":24,\"xs\":10}},[_c('div',{style:(_vm.preview.div)},[_c('img',{style:(_vm.preview.img),attrs:{\"src\":_vm.preview.url}})])]),_c('el-col',{class:_vm.$style.preview,style:(Object.assign({}, _vm.previewBox,\r\n                            {zoom: 100 / _vm.preview.w})),attrs:{\"span\":24,\"ofsset\":1,\"xs\":8}},[_c('div',{style:(_vm.preview.div)},[_c('img',{style:(_vm.preview.img),attrs:{\"src\":_vm.preview.url}})])]),_c('el-col',{class:_vm.$style.preview,style:(Object.assign({}, _vm.previewBox,\r\n                            {zoom: 50 / _vm.preview.w})),attrs:{\"span\":24,\"ofsset\":1,\"xs\":4}},[_c('div',{style:(_vm.preview.div)},[_c('img',{style:(_vm.preview.img),attrs:{\"src\":_vm.preview.url}})])])],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":6,\"xs\":24}},[_c('el-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.ok}},[_vm._v(\"确 定\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\r\nimport Component from 'vue-class-component';\r\nimport Vue from 'vue';\r\nimport { ElForm } from 'element-ui/types/form';\r\nimport Select from '../../components/Select.vue';\r\n\r\n@Component({\r\n    components: {\r\n        'app-select': Select\r\n    }\r\n})\r\nexport default class PeopleAdd extends Vue {\r\n    public url: string = ''; // 选择的图片\r\n    public visible: boolean = false;\r\n    public changeUpload: ((file: any) => void) | null = null; // 选择图片后回调\r\n\r\n    // 预览图父div大小\r\n    public previewBox: { width: string; height: string } = {\r\n        width: '1024px',\r\n        height: '1024px'\r\n    };\r\n    public preview: any = null; // 裁剪预览\r\n\r\n    public form: any = {\r\n        sex: 1,\r\n        level: 'T1',\r\n        type: 1,\r\n        reason: '',\r\n        avatar: ''\r\n    };\r\n\r\n    public created() {\r\n        this.changeUpload = (file: any) => {\r\n            if (\r\n                file.raw.type !== 'image/png' &&\r\n                file.raw.type !== 'image/jpeg'\r\n            ) {\r\n                return this.$message.error('只能上传jpg/png文件!');\r\n            }\r\n\r\n            if (file.size / 1024 / 1024 > 5) {\r\n                return this.$message.error('上传文件大小不能超过 5MB!');\r\n            }\r\n\r\n            const reader = new FileReader();\r\n            reader.onload = (e: ProgressEvent) => {\r\n                // target.result 该属性表示目标对象的DataURL\r\n                this.url = <string>(<FileReader>e.target).result;\r\n            };\r\n            // 传入一个参数对象即可得到基于该参数对象的文本内容\r\n            reader.readAsDataURL(file.raw);\r\n        };\r\n\r\n        this.preview = {\r\n            url: '/images/true.png',\r\n            div: this.previewBox,\r\n            w: 1024\r\n        };\r\n    }\r\n\r\n    public realTime(data: any) {\r\n        this.preview = data;\r\n\r\n        this.previewBox = {\r\n            width: data.w + 'px',\r\n            height: data.h + 'px'\r\n        };\r\n    }\r\n\r\n    public ok() {\r\n        const cropper: any = this.$refs.cropper;\r\n        cropper.getCropData((data: string) => {\r\n            this.form.avatar = data;\r\n            this.$message.success('设置成功');\r\n\r\n            this.visible = false;\r\n        });\r\n    }\r\n\r\n    public onSubmit() {\r\n        const form = <ElForm>this.$refs.form;\r\n        form.validate((valid: boolean) => {\r\n            if (valid) {\r\n                const tagPhoto = this.getcanvas(\r\n                    this.form.avatar,\r\n                    this.form.name\r\n                ).then(c =>\r\n                    this.$http.post('/api/tag/upload/tagPhoto', {\r\n                        tagPhoto: c.toDataURL('image/png', 1.0)\r\n                    })\r\n                );\r\n\r\n                const avatar = this.getcanvas(this.form.avatar).then(c =>\r\n                    this.$http.post('/api/tag/upload/avatar', {\r\n                        avatar: c.toDataURL('image/png', 1.0)\r\n                    })\r\n                );\r\n\r\n                Promise.all([tagPhoto, avatar])\r\n                    .then(([res1, res2]) => {\r\n                        const now = Date.now();\r\n                        const data = Object.assign(\r\n                            {\r\n                                createTime: now,\r\n                                updateTime: now,\r\n                                updateUser: 'string',\r\n                                createUser: 'string',\r\n                                locked: true,\r\n                                photo: res1.resultMap.photoUrl\r\n                            },\r\n                            this.form\r\n                        );\r\n                        data.avatar = res2.resultMap.avatarUrl;\r\n\r\n                        return this.$http.post('/api/tag/addTag', data, {\r\n                            'Content-Type': 'application/json'\r\n                        });\r\n                    })\r\n                    .then(() => {\r\n                        this.$message.success('添加成功');\r\n                        this.reset();\r\n                    })\r\n                    .catch(console.log);\r\n            }\r\n        });\r\n    }\r\n\r\n    public reset() {\r\n        (<ElForm>this.$refs.form).resetFields();\r\n        this.form.avatar = '';\r\n    }\r\n\r\n    private getcanvas(\r\n        url: string = '/images/P.png',\r\n        text?: string,\r\n        canvas: HTMLCanvasElement = document.createElement('canvas')\r\n    ): Promise<HTMLCanvasElement> {\r\n        const img = new Image();\r\n        img.src = url || '/images/P.png';\r\n\r\n        return new Promise((resolve, reject) => {\r\n            img.onload = () => {\r\n                canvas.width = 100;\r\n                canvas.height = text ? 100 : 70;\r\n                const ctx = <CanvasRenderingContext2D>canvas.getContext('2d');\r\n\r\n                if (text) {\r\n                    if (ctx.font !== '20px Arial') {\r\n                        ctx.font = '20px Arial';\r\n                    }\r\n                    if (ctx.strokeStyle !== 'blue') {\r\n                        ctx.strokeStyle = 'blue';\r\n                    }\r\n                    if (ctx.textAlign !== 'center') {\r\n                        ctx.textAlign = 'center';\r\n                    }\r\n\r\n                    ctx.fillText(text, 50, 80);\r\n                }\r\n\r\n                ctx.drawImage(img, 25, 10, 50, 50);\r\n                resolve(canvas);\r\n            };\r\n\r\n            img.onerror = reject;\r\n        });\r\n    }\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PeopleAdd.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PeopleAdd.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./add.html?vue&type=template&id=86b0d68e&\"\nimport script from \"./PeopleAdd.vue?vue&type=script&lang=ts&\"\nexport * from \"./PeopleAdd.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PeopleAdd.vue?vue&type=style&index=0&lang=postcss&module=true&\"\nimport style1 from \"./PeopleAdd.vue?vue&type=style&index=1&lang=postcss&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-0-0!../../../node_modules/css-loader/index.js??ref--7-oneOf-0-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-0-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PeopleAdd.vue?vue&type=style&index=0&lang=postcss&module=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-0-0!../../../node_modules/css-loader/index.js??ref--7-oneOf-0-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-0-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PeopleAdd.vue?vue&type=style&index=0&lang=postcss&module=true&\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"PeopleAdd_avatar_1etui\",\"btn\":\"PeopleAdd_btn_11XCW\",\"divider\":\"PeopleAdd_divider_1ZOlq\",\"tip\":\"PeopleAdd_tip_Mj5IQ\",\"center\":\"PeopleAdd_center_1F5UT\",\"preview\":\"PeopleAdd_preview_gjrgb\"};","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n","var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PeopleAdd.vue?vue&type=style&index=1&lang=postcss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PeopleAdd.vue?vue&type=style&index=1&lang=postcss&\""],"sourceRoot":""}