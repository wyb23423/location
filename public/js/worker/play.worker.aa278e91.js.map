{"version":3,"sources":["webpack://WsGui/webpack/bootstrap","webpack://WsGui/./node_modules/tslib/tslib.es6.js","webpack://WsGui/./src/tool/util.ts","webpack://WsGui/./src/tool/color.ts","webpack://WsGui/./src/animation/easing.ts","webpack://WsGui/./src/animation/play.worker.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","default","object","property","prototype","hasOwnProperty","p","s","e","__assign","assign","arguments","length","apply","this","__read","iterator","ar","next","done","push","error","return","cached","fn","maxSize","cache","Map","arg","_i","join","has","size","delete","keys","set","line2hump","str","replace","_","w","toUpperCase","line","toLowerCase","Set","split","kCSSColorTable","transparent","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","clampCssByte","Math","round","clampCssFloat","f","parseCssInt","charAt","parseFloat","parseInt","parseCssFloat","cssHueToRgb","m1","m2","h","hsla2rgba","hsla","rgba","err","console","colorStr","iv","Reflect","Array","from","startsWith","substr","op","indexOf","ep","fname","params","alpha","pop","easing_easing","linear","k","quadraticIn","quadraticOut","quadraticInOut","cubicIn","cubicOut","cubicInOut","quarticIn","quarticOut","quarticInOut","quinticIn","quinticOut","quinticInOut","sinusoidalIn","cos","PI","sinusoidalOut","sin","sinusoidalInOut","exponentialIn","pow","exponentialOut","exponentialInOut","circularIn","sqrt","circularOut","circularInOut","elasticIn","a","asin","elasticOut","elasticInOut","backIn","backOut","backInOut","bounceIn","bounceOut","bounceInOut","self","addEventListener","_a","data","animation","msg","now","isEnd","attrs","progress","min","_startTime","_pauseTime","time","_isPause","_prevTime","_b","__values","el","entries","_c","_d","v","getAttr","deleteProperty","postMessage","animationKey","zeroFrame","attr","easing","forEach","thisAttr","frames","sort","b","frame","findIndex","prev_1","type1","type2","rate_1","isArray","map","reg_1","test","prevValue","RegExp","warnOnce","arrColor","type","errKey","add"],"mappings":"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","file":"worker/play.worker.aa278e91.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { join } from \"path\";\r\n\r\n/// <reference lib=\"es2017.object\" />\r\n\r\n/**\r\n * 创建一个纯函数的缓存版本\r\n */\r\nexport function cached<T>(fn: (...arg: any[]) => T, maxSize?: number): (...arg: any[]) => T {\r\n    const cache:Map<any, any> = new Map();\r\n\r\n    return (...arg: any[]) => {\r\n        const key = arg.join(':');\r\n\r\n        if(!cache.has(key)) {\r\n            if(maxSize && cache.size >= maxSize) {\r\n                cache.delete(cache.keys().next().value);\r\n            }\r\n            cache.set(key, fn.apply(null, arg));\r\n        }\r\n\r\n        return cache.get(key);\r\n    }\r\n}\r\n\r\n/**\r\n * 深复制对象\r\n */\r\nexport function clone(obj: any){\r\n    if(typeof obj === 'object' && obj !== null){\r\n        let res: any;\r\n\r\n        if(obj instanceof Map){\r\n            res = new Map();\r\n            obj.forEach((v, k) => res.set(k, clone(v)));\r\n        } else if(obj instanceof Set) {\r\n            res = new Set();\r\n            obj.forEach(v => res.add(clone(v)));\r\n        } else if(Array.isArray(obj)){\r\n            res = obj.map(clone);\r\n        } else {\r\n            res = {};\r\n            for(let [k, v] of Object.entries(obj)){\r\n                res[k] = clone(v);\r\n            }\r\n        }\r\n\r\n        return res;\r\n    } else {\r\n        return obj;\r\n    }\r\n}\r\n\r\nconst imgReg = /\\.(jpg|png|gif|jpeg)$/i;\r\nexport function isImg(str: any){\r\n    if(typeof str === 'string'){\r\n        return imgReg.test(str) || str.startsWith('data:image/');\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\n/**\r\n * 创建一个检测一个字符串是否在一系列字符串内的函数+\r\n * @param str 用于检测的系列字符串组成的字符串，以空格分隔\r\n * @param ignore 是否忽略大小写\r\n */\r\nexport function makeCheckExist(str: string, ignore?: boolean){\r\n    let keys = str.split(' ');\r\n    if(ignore){\r\n        keys = keys.map(v => v.toLowerCase());\r\n    }\r\n\r\n    return function(k: string){\r\n        if(ignore) {\r\n            k = k.toLowerCase();\r\n        }\r\n\r\n        return keys.includes(k);\r\n    }\r\n}\r\n\r\n/**\r\n * 判断一个数值是否是0, 误差为Number.EPSILON\r\n */\r\nexport function isZero(val: number) {\r\n    return val > -Number.EPSILON && val < Number.EPSILON;\r\n}\r\n\r\n/**\r\n * 获取闭区间[min, max]内的随机整数, 四舍五入\r\n * 若max < min则闭区间为[max, min]\r\n */\r\nexport function randomInt(min: number, max: number){\r\n    if(max === min) return Math.round(max);\r\n\r\n    if(max < min) {\r\n        [min, max] = [max, min];\r\n    }\r\n\r\n    return Math.round(Math.random() * (max - min) + min);\r\n}\r\n\r\n/**\r\n * 二分法查找插入位置\r\n * @param compare 比较函数, 返回值<=0时, 插入位置<=mid, 反之>mid\r\n * @param len 数组长度\r\n */\r\nexport function findIndexByBinary(compare: (mid: number) => number, len: number) {\r\n    let low = 0, high = len - 1, mid = 0;\r\n    while(low <= high){\r\n        mid = Math.floor((high + low) / 2);\r\n        const res = compare(mid);\r\n        if(res < 0){\r\n            high = mid - 1;\r\n        } else if(res > 0){\r\n            low = mid + 1;\r\n        } else {\r\n            return mid;\r\n        }\r\n    }\r\n\r\n    return low;\r\n}\r\n\r\n/**\r\n * 下/中划线转驼峰\r\n */\r\nexport const line2hump = cached((str: string) => {\r\n    return str.replace(/[-_]+(\\w)/g, (_, w: string) => w.toUpperCase());\r\n})\r\n\r\n/**\r\n * 驼峰转下/中划线\r\n */\r\nexport const hump2line = cached((str: string, line: string = '-') => {\r\n    return str.replace(/[A-Z]/g, (w: string) => line + w.toLowerCase());\r\n})\r\n\r\nconst ids: Set<string | number> = new Set();\r\nexport const createId = (() => {\r\n    let num: number = 0;\r\n\r\n    return function(id: string | number) {\r\n        if(ids.has(id)) {\r\n            id = `${Date.now().toString(16)}${num.toString(16).padStart(6, '0')}`;\r\n            num++;\r\n        }\r\n        ids.add(id);\r\n\r\n        return id;\r\n    }\r\n})();\r\nexport function removeId(id: string | number) {\r\n    ids.delete(id);\r\n}\r\n\r\nexport function Mixin(...source: Function[]) {\r\n    return (target: Function) => {\r\n        const proto = target.prototype;\r\n        source.forEach(s =>\r\n            Reflect.ownKeys(s.prototype).forEach(key => {\r\n                if (!(isNotMixinKey(<string>key) || Reflect.has(proto, key))) {\r\n                    const desc = Object.getOwnPropertyDescriptor(s.prototype, key);\r\n                    Object.defineProperty(proto, key, desc);\r\n                }\r\n            })\r\n        )\r\n    }\r\n}\r\nconst isNotMixinKey = makeCheckExist('constructor prototype name');","\r\n/**\r\n * 将颜色转为rgba颜色的四个值的数组\r\n * 同easing一样从zRender里拿过来的\r\n */\r\nimport { cached } from \"./util\";\r\n\r\n// ========================================\r\nconst kCSSColorTable = {\r\n    'transparent': [0, 0, 0, 0], 'aliceblue': [240, 248, 255, 1],\r\n    'antiquewhite': [250, 235, 215, 1], 'aqua': [0, 255, 255, 1],\r\n    'aquamarine': [127, 255, 212, 1], 'azure': [240, 255, 255, 1],\r\n    'beige': [245, 245, 220, 1], 'bisque': [255, 228, 196, 1],\r\n    'black': [0, 0, 0, 1], 'blanchedalmond': [255, 235, 205, 1],\r\n    'blue': [0, 0, 255, 1], 'blueviolet': [138, 43, 226, 1],\r\n    'brown': [165, 42, 42, 1], 'burlywood': [222, 184, 135, 1],\r\n    'cadetblue': [95, 158, 160, 1], 'chartreuse': [127, 255, 0, 1],\r\n    'chocolate': [210, 105, 30, 1], 'coral': [255, 127, 80, 1],\r\n    'cornflowerblue': [100, 149, 237, 1], 'cornsilk': [255, 248, 220, 1],\r\n    'crimson': [220, 20, 60, 1], 'cyan': [0, 255, 255, 1],\r\n    'darkblue': [0, 0, 139, 1], 'darkcyan': [0, 139, 139, 1],\r\n    'darkgoldenrod': [184, 134, 11, 1], 'darkgray': [169, 169, 169, 1],\r\n    'darkgreen': [0, 100, 0, 1], 'darkgrey': [169, 169, 169, 1],\r\n    'darkkhaki': [189, 183, 107, 1], 'darkmagenta': [139, 0, 139, 1],\r\n    'darkolivegreen': [85, 107, 47, 1], 'darkorange': [255, 140, 0, 1],\r\n    'darkorchid': [153, 50, 204, 1], 'darkred': [139, 0, 0, 1],\r\n    'darksalmon': [233, 150, 122, 1], 'darkseagreen': [143, 188, 143, 1],\r\n    'darkslateblue': [72, 61, 139, 1], 'darkslategray': [47, 79, 79, 1],\r\n    'darkslategrey': [47, 79, 79, 1], 'darkturquoise': [0, 206, 209, 1],\r\n    'darkviolet': [148, 0, 211, 1], 'deeppink': [255, 20, 147, 1],\r\n    'deepskyblue': [0, 191, 255, 1], 'dimgray': [105, 105, 105, 1],\r\n    'dimgrey': [105, 105, 105, 1], 'dodgerblue': [30, 144, 255, 1],\r\n    'firebrick': [178, 34, 34, 1], 'floralwhite': [255, 250, 240, 1],\r\n    'forestgreen': [34, 139, 34, 1], 'fuchsia': [255, 0, 255, 1],\r\n    'gainsboro': [220, 220, 220, 1], 'ghostwhite': [248, 248, 255, 1],\r\n    'gold': [255, 215, 0, 1], 'goldenrod': [218, 165, 32, 1],\r\n    'gray': [128, 128, 128, 1], 'green': [0, 128, 0, 1],\r\n    'greenyellow': [173, 255, 47, 1], 'grey': [128, 128, 128, 1],\r\n    'honeydew': [240, 255, 240, 1], 'hotpink': [255, 105, 180, 1],\r\n    'indianred': [205, 92, 92, 1], 'indigo': [75, 0, 130, 1],\r\n    'ivory': [255, 255, 240, 1], 'khaki': [240, 230, 140, 1],\r\n    'lavender': [230, 230, 250, 1], 'lavenderblush': [255, 240, 245, 1],\r\n    'lawngreen': [124, 252, 0, 1], 'lemonchiffon': [255, 250, 205, 1],\r\n    'lightblue': [173, 216, 230, 1], 'lightcoral': [240, 128, 128, 1],\r\n    'lightcyan': [224, 255, 255, 1], 'lightgoldenrodyellow': [250, 250, 210, 1],\r\n    'lightgray': [211, 211, 211, 1], 'lightgreen': [144, 238, 144, 1],\r\n    'lightgrey': [211, 211, 211, 1], 'lightpink': [255, 182, 193, 1],\r\n    'lightsalmon': [255, 160, 122, 1], 'lightseagreen': [32, 178, 170, 1],\r\n    'lightskyblue': [135, 206, 250, 1], 'lightslategray': [119, 136, 153, 1],\r\n    'lightslategrey': [119, 136, 153, 1], 'lightsteelblue': [176, 196, 222, 1],\r\n    'lightyellow': [255, 255, 224, 1], 'lime': [0, 255, 0, 1],\r\n    'limegreen': [50, 205, 50, 1], 'linen': [250, 240, 230, 1],\r\n    'magenta': [255, 0, 255, 1], 'maroon': [128, 0, 0, 1],\r\n    'mediumaquamarine': [102, 205, 170, 1], 'mediumblue': [0, 0, 205, 1],\r\n    'mediumorchid': [186, 85, 211, 1], 'mediumpurple': [147, 112, 219, 1],\r\n    'mediumseagreen': [60, 179, 113, 1], 'mediumslateblue': [123, 104, 238, 1],\r\n    'mediumspringgreen': [0, 250, 154, 1], 'mediumturquoise': [72, 209, 204, 1],\r\n    'mediumvioletred': [199, 21, 133, 1], 'midnightblue': [25, 25, 112, 1],\r\n    'mintcream': [245, 255, 250, 1], 'mistyrose': [255, 228, 225, 1],\r\n    'moccasin': [255, 228, 181, 1], 'navajowhite': [255, 222, 173, 1],\r\n    'navy': [0, 0, 128, 1], 'oldlace': [253, 245, 230, 1],\r\n    'olive': [128, 128, 0, 1], 'olivedrab': [107, 142, 35, 1],\r\n    'orange': [255, 165, 0, 1], 'orangered': [255, 69, 0, 1],\r\n    'orchid': [218, 112, 214, 1], 'palegoldenrod': [238, 232, 170, 1],\r\n    'palegreen': [152, 251, 152, 1], 'paleturquoise': [175, 238, 238, 1],\r\n    'palevioletred': [219, 112, 147, 1], 'papayawhip': [255, 239, 213, 1],\r\n    'peachpuff': [255, 218, 185, 1], 'peru': [205, 133, 63, 1],\r\n    'pink': [255, 192, 203, 1], 'plum': [221, 160, 221, 1],\r\n    'powderblue': [176, 224, 230, 1], 'purple': [128, 0, 128, 1],\r\n    'red': [255, 0, 0, 1], 'rosybrown': [188, 143, 143, 1],\r\n    'royalblue': [65, 105, 225, 1], 'saddlebrown': [139, 69, 19, 1],\r\n    'salmon': [250, 128, 114, 1], 'sandybrown': [244, 164, 96, 1],\r\n    'seagreen': [46, 139, 87, 1], 'seashell': [255, 245, 238, 1],\r\n    'sienna': [160, 82, 45, 1], 'silver': [192, 192, 192, 1],\r\n    'skyblue': [135, 206, 235, 1], 'slateblue': [106, 90, 205, 1],\r\n    'slategray': [112, 128, 144, 1], 'slategrey': [112, 128, 144, 1],\r\n    'snow': [255, 250, 250, 1], 'springgreen': [0, 255, 127, 1],\r\n    'steelblue': [70, 130, 180, 1], 'tan': [210, 180, 140, 1],\r\n    'teal': [0, 128, 128, 1], 'thistle': [216, 191, 216, 1],\r\n    'tomato': [255, 99, 71, 1], 'turquoise': [64, 224, 208, 1],\r\n    'violet': [238, 130, 238, 1], 'wheat': [245, 222, 179, 1],\r\n    'white': [255, 255, 255, 1], 'whitesmoke': [245, 245, 245, 1],\r\n    'yellow': [255, 255, 0, 1], 'yellowgreen': [154, 205, 50, 1]\r\n};\r\n\r\nfunction clampCssByte(i: number) {  // Clamp to integer 0 .. 255.\r\n    i = Math.round(i);  // Seems to be what Chrome does (vs truncation).\r\n    return i < 0 ? 0 : i > 255 ? 255 : i;\r\n}\r\n\r\nfunction clampCssFloat(f: number) {  // Clamp to float 0.0 .. 1.0.\r\n    return f < 0 ? 0 : f > 1 ? 1 : f;\r\n}\r\n\r\nfunction parseCssInt(str: string) {  // int or percentage.\r\n    if (str.length && str.charAt(str.length - 1) === '%') {\r\n        return clampCssByte(parseFloat(str) / 100 * 255);\r\n    }\r\n    return clampCssByte(parseInt(str, 10));\r\n}\r\n\r\nfunction parseCssFloat(str: string) {  // float or percentage.\r\n    if (str.length && str.charAt(str.length - 1) === '%') {\r\n        return clampCssFloat(parseFloat(str) / 100);\r\n    }\r\n    return clampCssFloat(parseFloat(str));\r\n}\r\n\r\nfunction cssHueToRgb(m1: number, m2: number, h: number) {\r\n    if (h < 0) {\r\n        h += 1;\r\n    }\r\n    else if (h > 1) {\r\n        h -= 1;\r\n    }\r\n\r\n    if (h * 6 < 1) {\r\n        return m1 + (m2 - m1) * h * 6;\r\n    }\r\n    if (h * 2 < 1) {\r\n        return m2;\r\n    }\r\n    if (h * 3 < 2) {\r\n        return m1 + (m2 - m1) * (2 / 3 - h) * 6;\r\n    }\r\n    return m1;\r\n}\r\n\r\nfunction hsla2rgba(hsla: string[]) {\r\n    const h = (((parseFloat(hsla[0]) % 360) + 360) % 360) / 360;  // 0 .. 1\r\n\r\n    // NOTE(deanm): According to the CSS spec s/l should only be\r\n    // percentages, but we don't bother and let float or percentage.\r\n    const s = parseCssFloat(hsla[1]);\r\n    const l = parseCssFloat(hsla[2]);\r\n    const m2 = l <= 0.5 ? l * (s + 1) : l + s - l * s;\r\n    const m1 = l * 2 - m2;\r\n\r\n    const rgba = [\r\n        clampCssByte(cssHueToRgb(m1, m2, h + 1 / 3) * 255),\r\n        clampCssByte(cssHueToRgb(m1, m2, h) * 255),\r\n        clampCssByte(cssHueToRgb(m1, m2, h - 1 / 3) * 255),\r\n        1\r\n    ];\r\n\r\n    if (hsla.length === 4) {\r\n        rgba[3] = +hsla[3];\r\n    }\r\n\r\n    return rgba;\r\n}\r\n\r\nfunction err(str: string) {\r\n    console.error(`${str}不是有效的ccs颜色值`);\r\n    return [0, 0, 0, 0];\r\n}\r\n\r\n/**\r\n * 将颜色转为rgba颜色的四个值的数组\r\n */\r\nexport const parseColor = cached((colorStr: string): number[] => {\r\n    if (typeof colorStr !== 'string' || !colorStr) {\r\n        return err(colorStr);\r\n    }\r\n    const str = colorStr.replace(/ /g, '').toLowerCase();\r\n\r\n    if (Reflect.has(kCSSColorTable, str)) {\r\n        return Array.from(Reflect.get(kCSSColorTable, str));\r\n    }\r\n\r\n    // #abc and #abc123 syntax.\r\n    if (str.startsWith('#')) {\r\n        if (str.length === 4) {\r\n            var iv = parseInt(str.substr(1), 16);  // TODO(deanm): Stricter parsing.\r\n            if (!(iv >= 0 && iv <= 0xfff)) {\r\n                return err(str);\r\n            }\r\n\r\n            return [\r\n                ((iv & 0xf00) >> 4) | ((iv & 0xf00) >> 8),\r\n                (iv & 0xf0) | ((iv & 0xf0) >> 4),\r\n                (iv & 0xf) | ((iv & 0xf) << 4),\r\n                1\r\n            ];\r\n        }\r\n        else if (str.length === 7) {\r\n            var iv = parseInt(str.substr(1), 16);  // TODO(deanm): Stricter parsing.\r\n            if (!(iv >= 0 && iv <= 0xffffff)) {\r\n                return err(str);\r\n            }\r\n            return [\r\n                (iv & 0xff0000) >> 16,\r\n                (iv & 0xff00) >> 8,\r\n                iv & 0xff,\r\n                1\r\n            ];\r\n        }\r\n\r\n        return err(str);\r\n    }\r\n\r\n    const op = str.indexOf('(');\r\n    const ep = str.indexOf(')');\r\n    if (op !== -1 && ep + 1 === str.length) {\r\n        const fname = str.substr(0, op);\r\n        const params = str.substr(op + 1, ep - (op + 1)).split(',');\r\n        let alpha = 1;  // To allow case fallthrough.\r\n        switch (fname) {\r\n            case 'rgba':\r\n                if (params.length !== 4) {\r\n                    return err(str);\r\n                }\r\n                alpha = parseCssFloat(params.pop()); // jshint ignore:line\r\n            // Fall through.\r\n            case 'rgb':\r\n                if (params.length !== 3) {\r\n                    return err(str);\r\n                }\r\n\r\n                return [\r\n                    parseCssInt(params[0]),\r\n                    parseCssInt(params[1]),\r\n                    parseCssInt(params[2]),\r\n                    alpha\r\n                ];\r\n            case 'hsla':\r\n                if (params.length !== 4) {\r\n                    return err(str);\r\n                }\r\n                params[3] = parseCssFloat(params[3]) + '';\r\n\r\n                return hsla2rgba(params);\r\n            case 'hsl':\r\n                if (params.length !== 3) {\r\n                    return err(str);\r\n                }\r\n                return hsla2rgba(params);\r\n        }\r\n    }\r\n\r\n    return err(str);\r\n}, 500)\r\n\r\n/**\r\n * @param arrColor like [12,33,44,0.4]\r\n * @param type 'rgba', 'hsva', ...\r\n * @return Result color. (If input illegal, return undefined).\r\n */\r\nexport function stringify(arrColor: number[], type: string) {\r\n    if (!arrColor || !arrColor.length) {\r\n        return;\r\n    }\r\n    let colorStr = arrColor[0] + ',' + arrColor[1] + ',' + arrColor[2];\r\n    if (type === 'rgba' || type === 'hsva' || type === 'hsla') {\r\n        colorStr += ',' + arrColor[3];\r\n    }\r\n\r\n    return type + '(' + colorStr + ')';\r\n}\r\n\r\n/**\r\n * 判断两个颜色是否相等\r\n */\r\nexport function isEqual(a: any, b: any) {\r\n    if(typeof a === 'string' && typeof b === 'string') {\r\n        const arr1 = parseColor(a);\r\n        const arr2 = parseColor(b);\r\n\r\n        return arr1.every((v, i) => v === arr2[i]);\r\n    }\r\n\r\n    return a === b;\r\n}","import { line2hump } from \"../tool/util\";\r\n\r\n/**\r\n * 缓动代码来自 https://github.com/sole/tween.js/blob/master/src/Tween.js\r\n * 直接将zRender里的easing.js复制过来了\r\n */\r\n\r\nconst easing = {\r\n    // ===========================t^1\r\n    linear(k: number) {\r\n        return k;\r\n    },\r\n\r\n    // ===========================t^2\r\n    quadraticIn(k: number) {\r\n        return k * k;\r\n    },\r\n    quadraticOut(k: number) {\r\n        return k * (2 - k);\r\n    },\r\n    quadraticInOut(k: number) {\r\n        if ((k *= 2) < 1) {\r\n            return 0.5 * k * k;\r\n        }\r\n        return -0.5 * (--k * (k - 2) - 1);\r\n    },\r\n\r\n    // ===========================t^3\r\n    cubicIn(k: number) {\r\n        return k * k * k;\r\n    },\r\n    cubicOut(k: number) {\r\n        return --k * k * k + 1;\r\n    },\r\n    cubicInOut(k: number) {\r\n        if ((k *= 2) < 1) {\r\n            return 0.5 * k * k * k;\r\n        }\r\n        return 0.5 * ((k -= 2) * k * k + 2);\r\n    },\r\n\r\n    // ===========================t^4\r\n    quarticIn(k: number) {\r\n        return k * k * k * k;\r\n    },\r\n    quarticOut(k: number) {\r\n        return 1 - (--k * k * k * k);\r\n    },\r\n    quarticInOut(k: number) {\r\n        if ((k *= 2) < 1) {\r\n            return 0.5 * k * k * k * k;\r\n        }\r\n        return -0.5 * ((k -= 2) * k * k * k - 2);\r\n    },\r\n\r\n    // ===========================t^5\r\n    quinticIn(k: number) {\r\n        return k * k * k * k * k;\r\n    },\r\n    quinticOut(k: number) {\r\n        return --k * k * k * k * k + 1;\r\n    },\r\n    quinticInOut(k: number) {\r\n        if ((k *= 2) < 1) {\r\n            return 0.5 * k * k * k * k * k;\r\n        }\r\n        return 0.5 * ((k -= 2) * k * k * k * k + 2);\r\n    },\r\n\r\n    // ==============================正弦曲线的缓动（sin(t)）\r\n    sinusoidalIn(k: number) {\r\n        return 1 - Math.cos(k * Math.PI / 2);\r\n    },\r\n    sinusoidalOut(k: number) {\r\n        return Math.sin(k * Math.PI / 2);\r\n    },\r\n    sinusoidalInOut(k: number) {\r\n        return 0.5 * (1 - Math.cos(Math.PI * k));\r\n    },\r\n\r\n    // ==============================指数曲线的缓动（2^t）\r\n    exponentialIn(k: number) {\r\n        return k === 0 ? 0 : Math.pow(1024, k - 1);\r\n    },\r\n    exponentialOut(k: number) {\r\n        return k === 1 ? 1 : 1 - Math.pow(2, -10 * k);\r\n    },\r\n    exponentialInOut(k: number) {\r\n        if (k === 0) {\r\n            return 0;\r\n        }\r\n        if (k === 1) {\r\n            return 1;\r\n        }\r\n        if ((k *= 2) < 1) {\r\n            return 0.5 * Math.pow(1024, k - 1);\r\n        }\r\n        return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2);\r\n    },\r\n\r\n    // ================================圆形曲线的缓动（sqrt(1-t^2)）\r\n    circularIn(k: number) {\r\n        return 1 - Math.sqrt(1 - k * k);\r\n    },\r\n    circularOut(k: number) {\r\n        return Math.sqrt(1 - (--k * k));\r\n    },\r\n    circularInOut(k: number) {\r\n        if ((k *= 2) < 1) {\r\n            return -0.5 * (Math.sqrt(1 - k * k) - 1);\r\n        }\r\n        return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\r\n    },\r\n\r\n    // ================================创建类似于弹簧在停止前来回振荡的动画\r\n    elasticIn(k: number) {\r\n        let s: number;\r\n        let a = 0.1;\r\n        const p = 0.4;\r\n        if (k === 0) {\r\n            return 0;\r\n        }\r\n        if (k === 1) {\r\n            return 1;\r\n        }\r\n        if (!a || a < 1) {\r\n            a = 1;\r\n            s = p / 4;\r\n        }\r\n        else {\r\n            s = p * Math.asin(1 / a) / (2 * Math.PI);\r\n        }\r\n        return -(a * Math.pow(2, 10 * (k -= 1))\r\n                    * Math.sin((k - s) * (2 * Math.PI) / p));\r\n    },\r\n    elasticOut(k: number) {\r\n        let s: number;\r\n        let a = 0.1;\r\n        const p = 0.4;\r\n        if (k === 0) {\r\n            return 0;\r\n        }\r\n        if (k === 1) {\r\n            return 1;\r\n        }\r\n        if (!a || a < 1) {\r\n            a = 1;\r\n            s = p / 4;\r\n        }\r\n        else {\r\n            s = p * Math.asin(1 / a) / (2 * Math.PI);\r\n        }\r\n        return (a * Math.pow(2, -10 * k)\r\n                    * Math.sin((k - s) * (2 * Math.PI) / p) + 1);\r\n    },\r\n    elasticInOut(k: number) {\r\n        let s: number;\r\n        let a = 0.1;\r\n        const p = 0.4;\r\n        if (k === 0) {\r\n            return 0;\r\n        }\r\n        if (k === 1) {\r\n            return 1;\r\n        }\r\n        if (!a || a < 1) {\r\n            a = 1;\r\n            s = p / 4;\r\n        }\r\n        else {\r\n            s = p * Math.asin(1 / a) / (2 * Math.PI);\r\n        }\r\n        if ((k *= 2) < 1) {\r\n            return -0.5 * (a * Math.pow(2, 10 * (k -= 1))\r\n                * Math.sin((k - s) * (2 * Math.PI) / p));\r\n        }\r\n        return a * Math.pow(2, -10 * (k -= 1))\r\n                * Math.sin((k - s) * (2 * Math.PI) / p) * 0.5 + 1;\r\n\r\n    },\r\n\r\n    // 在某一动画开始沿指示的路径进行动画处理前稍稍收回该动画的移动\r\n    backIn(k: number) {\r\n        const s = 1.70158;\r\n        return k * k * ((s + 1) * k - s);\r\n    },\r\n    backOut(k: number) {\r\n        const s = 1.70158;\r\n        return --k * k * ((s + 1) * k + s) + 1;\r\n    },\r\n    backInOut(k: number) {\r\n        const s = 1.70158 * 1.525;\r\n        if ((k *= 2) < 1) {\r\n            return 0.5 * (k * k * ((s + 1) * k - s));\r\n        }\r\n        return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\r\n    },\r\n\r\n    // ======================创建弹跳效果\r\n    bounceIn(k: number) {\r\n        return 1 - easing.bounceOut(1 - k);\r\n    },\r\n    bounceOut(k: number) {\r\n        if (k < (1 / 2.75)) {\r\n            return 7.5625 * k * k;\r\n        }\r\n        else if (k < (2 / 2.75)) {\r\n            return 7.5625 * (k -= (1.5 / 2.75)) * k + 0.75;\r\n        }\r\n        else if (k < (2.5 / 2.75)) {\r\n            return 7.5625 * (k -= (2.25 / 2.75)) * k + 0.9375;\r\n        }\r\n        else {\r\n            return 7.5625 * (k -= (2.625 / 2.75)) * k + 0.984375;\r\n        }\r\n    },\r\n    bounceInOut(k: number) {\r\n        if (k < 0.5) {\r\n            return easing.bounceIn(k * 2) * 0.5;\r\n        }\r\n        return easing.bounceOut(k * 2 - 1) * 0.5 + 0.5;\r\n    }\r\n};\r\n\r\nexport function setEasing(name: string, fn: (x: number) => number) {\r\n    name = line2hump(name);\r\n    Reflect.set(easing, name, fn);\r\n}\r\n\r\nexport function getEasing(name: string) {\r\n    name = line2hump(name);\r\n\r\n    const fn = Reflect.get(easing, name);\r\n    if(typeof fn !== 'function') {\r\n        console.error(`缓动函数${name}不存在`);\r\n\r\n        return easing.linear\r\n    }\r\n\r\n    return fn;\r\n}","/**\r\n * 动画播放时计算各属性的worker脚本\r\n */\r\nimport { stringify } from \"../tool/color\";\r\nimport { getEasing } from \"./easing\";\r\n\r\nself.addEventListener('message', arg => {\r\n    const { animation, now } = arg.data;\r\n    const msg = play(animation, now);\r\n    Reflect.deleteProperty(animation, 'el');\r\n\r\n    (<any>self).postMessage(msg);\r\n});\r\n\r\n// ==============================================================\r\nconst animationKey = [\r\n    'width', 'height', 'scaleX', 'scaleY', 'rotation', 'left', 'right',\r\n    'top', 'bottom', 'opacity', 'color', 'background', 'cellId'\r\n];\r\n\r\nfunction play(animation: any, now: number) {\r\n    const msg = {\r\n        animation: animation,\r\n        isEnd: false,\r\n        attrs: new Map()\r\n    };\r\n\r\n    const progress = Math.min(1, (now - animation._startTime - animation._pauseTime) / animation.time);\r\n\r\n    if (!animation._isPause) {\r\n        for (const [e, v] of animation.el.entries()) {\r\n            msg.attrs.set(e, getAttr(progress, v, animation));\r\n        }\r\n    } else {\r\n        animation._pauseTime += now - animation._prevTime;\r\n    }\r\n    if (now - animation._startTime - animation._pauseTime > animation.time) {\r\n        msg.isEnd = true;\r\n\r\n        return msg;\r\n    }\r\n    animation._prevTime = now;\r\n\r\n    return msg;\r\n}\r\n\r\nfunction getAttr(progress: number, zeroFrame: any, animation: any) {\r\n    const attr = {};\r\n    const easing = getEasing(animation.easing);\r\n\r\n    animationKey.forEach(k => {\r\n        const thisAttr = { ...Reflect.get(animation, k) };\r\n        thisAttr[0] = thisAttr[0] == null ? Reflect.get(zeroFrame, k) : thisAttr[0];\r\n\r\n        const keys = Object.keys(thisAttr);\r\n        if (keys.length < 2) {\r\n            return;\r\n        }\r\n\r\n        const frames = keys.sort((a, b) => +a - +b);\r\n        const frame = frames.findIndex(v => +v >= progress);\r\n\r\n        let value = thisAttr[frames[frame]];\r\n        if (value != null) {\r\n            let prev = thisAttr[frames[frame - 1]];\r\n            const type1 = typeof value;\r\n            const type2 = typeof prev;\r\n            if (type1 === type2) {\r\n                let rate = 1 - (+frames[frame] - progress) / (+frames[frame] - +frames[frame - 1]);\r\n                rate = easing(rate);\r\n\r\n                if (Array.isArray(value)) { // color、background\r\n                    value = value.map((v, i) => (v - prev[i]) * rate + prev[i]);\r\n                } else if (type1 === 'number') {\r\n                    value = (value - prev) * rate + prev;\r\n                } else if (type1 === 'string') {\r\n                    let reg = /^([\\+-]?\\d+)(.*)$/;\r\n                    if (reg.test(value)) {\r\n                        value = value.replace(reg, (_, v, s) => {\r\n                            let prevValue = +parseFloat(prev);\r\n\r\n                            reg = new RegExp(`^[\\\\+-]?\\\\d+${s}$`);\r\n                            if (!reg.test(prev)) {\r\n                                warnOnce(k, animation);\r\n                                prevValue = 0;\r\n                            }\r\n\r\n                            return (+v - prevValue) * rate + prevValue + s;\r\n                        });\r\n                    } else {\r\n                        value = 0;\r\n                    }\r\n                }\r\n            } else if (type2 !== 'undefined') {\r\n                warnOnce(k, animation);\r\n            }\r\n\r\n            if (Array.isArray(value)) {\r\n                value = stringify(value, 'rgba');\r\n            }\r\n            Reflect.set(attr, k, value);\r\n        }\r\n    });\r\n\r\n    return attr;\r\n}\r\n\r\nfunction warnOnce(key, animation) {\r\n    if (!animation.errKey.has(key)) {\r\n        console.error(`对属性${key}的设置存在类型不一样的设置`);\r\n        animation.errKey.add(key);\r\n    }\r\n}"],"sourceRoot":""}